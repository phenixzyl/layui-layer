{"version":3,"file":"layer.js","sources":["../src/layer.js"],"sourcesContent":["/**\n * layer\n * 通用 Web 弹出层组件\n */\n//@ts-ignore\nimport jQuery from 'jquery';\nimport './css/layer.css';\n\"use strict\";\n\nvar isLayui = window.layui && layui.define;\nvar $;\nvar win;\nvar ready = {\n  getPath: function(){\n    var jsPath = document.currentScript ? document.currentScript.src : function(){\n      var js = document.scripts;\n      var last = js.length - 1;\n      var src;\n      for(var i = last; i > 0; i--){\n        if(js[i].readyState === 'interactive'){\n          src = js[i].src;\n          break;\n        }\n      }\n      return src || js[last].src;\n    }();\n    var GLOBAL = window.LAYUI_GLOBAL || {};\n    return GLOBAL.layer_dir || jsPath.substring(0, jsPath.lastIndexOf('/') + 1);\n  }(),\n  config: {\n    removeFocus: true\n  }, \n  end: {}, \n  beforeEnd: {},\n  events: {resize: {}}, \n  minStackIndex: 0,\n  minStackArr: [],\n  btn: ['确定', '取消'],\n\n  // 五种原始层模式\n  type: ['dialog', 'page', 'iframe', 'loading', 'tips'],\n  \n  // 获取节点的 style 属性值\n  getStyle: function(node, name){\n    var style = node.currentStyle ? node.currentStyle : window.getComputedStyle(node, null);\n    return style[style.getPropertyValue ? 'getPropertyValue' : 'getAttribute'](name);\n  },\n  \n  // 载入 CSS 依赖\n  link: function(href, fn, cssname){\n    // 未设置路径，则不主动加载 css\n    if(!layer.path) return;\n    \n    var head = document.getElementsByTagName(\"head\")[0];\n    var link = document.createElement('link');\n    \n    if(typeof fn === 'string') cssname = fn;\n    \n    var app = (cssname || href).replace(/\\.|\\//g, '');\n    var id = 'layuicss-'+ app;\n    var STATUS_NAME = 'creating'\n    var timeout = 0;\n    \n    link.rel = 'stylesheet';\n    link.href = layer.path + href;\n    link.id = id;\n    \n    if(!document.getElementById(id)){\n      head.appendChild(link);\n    }\n\n    if(typeof fn !== 'function') return;\n\n    // 轮询 css 是否加载完毕\n    (function poll(status) {\n      var delay = 100;\n      var getLinkElem = document.getElementById(id); // 获取动态插入的 link 元素\n      \n      // 如果轮询超过指定秒数，则视为请求文件失败或 css 文件不符合规范\n      if(++timeout > 10 * 1000 / delay){\n        return window.console && console.error(app +'.css: Invalid');\n      }\n      \n      // css 加载就绪\n      if(parseInt(ready.getStyle(getLinkElem, 'width')) === 1989){\n        // 如果参数来自于初始轮询（即未加载就绪时的），则移除 link 标签状态\n        if(status === STATUS_NAME) getLinkElem.removeAttribute('lay-status');\n        // 如果 link 标签的状态仍为「创建中」，则继续进入轮询，直到状态改变，则执行回调\n        getLinkElem.getAttribute('lay-status') === STATUS_NAME ? setTimeout(poll, delay) : fn();\n      } else {\n        getLinkElem.setAttribute('lay-status', STATUS_NAME);\n        setTimeout(function(){\n          poll(STATUS_NAME);\n        }, delay);\n      }\n\n      // parseInt(ready.getStyle(document.getElementById(id), 'width')) === 1989 ? fn() : setTimeout(poll, 1000);\n    }());\n\n  }\n};\n\n// 默认内置方法。\nexport var layer = {\n  v: '3.7.0',\n  ie: function(){ // ie 版本\n    var agent = navigator.userAgent.toLowerCase();\n    return (!!window.ActiveXObject || \"ActiveXObject\" in window) ? (\n      (agent.match(/msie\\s(\\d+)/) || [])[1] || '11' // 由于 ie11 并没有 msie 的标识\n    ) : false;\n  }(),\n  index: (window.layer && window.layer.v) ? 100000 : 0,\n  path: ready.getPath,\n  config: function(options, fn){\n    options = options || {};\n    layer.cache = ready.config = $.extend({}, ready.config, options);\n    layer.path = ready.config.path || layer.path;\n    typeof options.extend === 'string' && (options.extend = [options.extend]);\n    \n    // 如果设置了路径，则加载样式\n    if(ready.config.path) layer.ready();\n    \n    if(!options.extend) return this;\n    \n    // 加载 css\n    isLayui \n      ? layui.addcss('modules/layer/' + options.extend)\n    : ready.link('css/' + options.extend);\n    \n    return this;\n  },\n\n  // 主体 CSS 等待事件\n  ready: function(callback){\n    var cssname = 'layer';\n    var ver = '';\n    var path = (isLayui ? 'modules/' : 'css/') + 'layer.css?v='+ layer.v + ver;\n    \n    isLayui ? (\n      layui['layui.all'] \n        ? (typeof callback === 'function' && callback()) \n      : layui.addcss(path, callback, cssname)\n    ) : ready.link(path, callback, cssname);\n\n    return this;\n  },\n  \n  // 各种快捷引用\n  alert: function(content, options, yes){\n    var type = typeof options === 'function';\n    if(type) yes = options;\n    return layer.open($.extend({\n      content: content,\n      yes: yes\n    }, type ? {} : options));\n  }, \n  \n  confirm: function(content, options, yes, cancel){ \n    var type = typeof options === 'function';\n    if(type){\n      cancel = yes;\n      yes = options;\n    }\n    return layer.open($.extend({\n      content: content,\n      btn: ready.btn,\n      yes: yes,\n      btn2: cancel\n    }, type ? {} : options));\n  },\n  \n  msg: function(content, options, end){ // 最常用提示层\n    var type = typeof options === 'function', rskin = ready.config.skin;\n    var skin = (rskin ? rskin + ' ' + rskin + '-msg' : '')||'layui-layer-msg';\n    var anim = doms.anim.length - 1;\n    if(type) end = options;\n    return layer.open($.extend({\n      content: content,\n      time: 3000,\n      shade: false,\n      skin: skin,\n      title: false,\n      closeBtn: false,\n      btn: false,\n      resize: false,\n      end: end,\n      removeFocus: false\n    }, (type && !ready.config.skin) ? {\n      skin: skin + ' layui-layer-hui',\n      anim: anim\n    } : function(){\n       options = options || {};\n       if(options.icon === -1 || options.icon === undefined && !ready.config.skin){\n         options.skin = skin + ' ' + (options.skin||'layui-layer-hui');\n       }\n       return options;\n    }()));  \n  },\n  \n  load: function(icon, options){\n    return layer.open($.extend({\n      type: 3,\n      icon: icon || 0,\n      resize: false,\n      shade: 0.01,\n      removeFocus: false\n    }, options));\n  }, \n  \n  tips: function(content, follow, options){\n    return layer.open($.extend({\n      type: 4,\n      content: [content, follow],\n      closeBtn: false,\n      time: 3000,\n      shade: false,\n      resize: false,\n      fixed: false,\n      maxWidth: 260,\n      removeFocus: false\n    }, options));\n  }\n};\n\nvar Class = function(setings){  \n  var that = this, creat = function(){\n    that.creat();\n  };\n  that.index = ++layer.index;\n  that.config.maxWidth = $(win).width() - 15*2; // 初始最大宽度：当前屏幕宽，左右留 15px 边距\n  that.config = $.extend({}, that.config, ready.config, setings);\n  document.body ? creat() : setTimeout(function(){\n    creat();\n  }, 30);\n};\n\nClass.pt = Class.prototype;\n\n// 缓存常用字符\nvar doms = ['layui-layer', '.layui-layer-title', '.layui-layer-main', '.layui-layer-dialog', 'layui-layer-iframe', 'layui-layer-content', 'layui-layer-btn', 'layui-layer-close'];\n\n// 内置动画类\ndoms.anim = {\n  // 旧版动画\n  0: 'layer-anim-00', \n  1: 'layer-anim-01', \n  2: 'layer-anim-02', \n  3: 'layer-anim-03', \n  4: 'layer-anim-04', \n  5: 'layer-anim-05', \n  6: 'layer-anim-06',\n\n  // 滑出方向\n  slideDown: 'layer-anim-slide-down',\n  slideLeft: 'layer-anim-slide-left',\n  slideUp: 'layer-anim-slide-up',\n  slideRight: 'layer-anim-slide-right'\n};\n\ndoms.SHADE = 'layui-layer-shade';\ndoms.MOVE = 'layui-layer-move';\n\nvar SHADE_KEY = 'LAYUI-LAYER-SHADE-KEY';\nvar RECORD_HEIGHT_KEY = 'LAYUI_LAYER_CONTENT_RECORD_HEIGHT';\n\n// 默认配置\nClass.pt.config = {\n  type: 0,\n  shade: 0.3,\n  fixed: true,\n  move: doms[1],\n  title: '信息',\n  offset: 'auto',\n  area: 'auto',\n  closeBtn: 1,\n  icon: -1,\n  time: 0, // 0 表示不自动关闭\n  zIndex: 19891014, \n  maxWidth: 360,\n  anim: 0,\n  isOutAnim: true, // 退出动画\n  minStack: true, // 最小化堆叠\n  moveType: 1,\n  resize: true,\n  scrollbar: true, // 是否允许浏览器滚动条\n  tips: 2\n};\n\n// 容器\nClass.pt.vessel = function(conType, callback){\n  var that = this, times = that.index, config = that.config;\n  var zIndex = config.zIndex + times, titype = typeof config.title === 'object';\n  var ismax = config.maxmin && (config.type === 1 || config.type === 2);\n  var titleHTML = (config.title ? '<div class=\"layui-layer-title\" style=\"'+ (titype ? config.title[1] : '') +'\">' \n    + (titype ? config.title[0] : config.title) \n  + '</div>' : '');\n  \n  config.zIndex = zIndex;\n  callback([\n    // 遮罩\n    config.shade ? ('<div class=\"'+ doms.SHADE +'\" id=\"'+ doms.SHADE + times +'\" times=\"'+ times +'\" style=\"'+ ('z-index:'+ (zIndex-1) +'; ') +'\"></div>') : '',\n    \n    // 主体\n    '<div class=\"'+ doms[0] + (' layui-layer-'+ready.type[config.type]) + (((config.type == 0 || config.type == 2) && !config.shade) ? ' layui-layer-border' : '') + ' ' + (config.skin||'') +'\" id=\"'+ doms[0] + times +'\" type=\"'+ ready.type[config.type] +'\" times=\"'+ times +'\" showtime=\"'+ config.time +'\" conType=\"'+ (conType ? 'object' : 'string') +'\" style=\"z-index: '+ zIndex +'; width:'+ config.area[0] + ';height:' + config.area[1] + ';position:'+ (config.fixed ? 'fixed;' : 'absolute;') +'\">'\n      + (conType && config.type != 2 ? '' : titleHTML)\n\n      // 内容区\n      + '<div'+ (config.id ? ' id=\"'+ config.id +'\"' : '') +' class=\"layui-layer-content'+ ((config.type == 0 && config.icon !== -1) ? ' layui-layer-padding' : '') + (config.type == 3 ? ' layui-layer-loading'+config.icon : '') +'\">'\n        // 表情或图标\n        + function(){\n          var face = [\n            'layui-icon-tips',\n            'layui-icon-success',\n            'layui-icon-error',\n            'layui-icon-question',\n            'layui-icon-lock',\n            'layui-icon-face-cry',\n            'layui-icon-face-smile'\n          ];\n\n          var additFaceClass;\n\n          // 动画类\n          var animClass = 'layui-anim layui-anim-rotate layui-anim-loop';\n\n          // 信息框表情\n          if(config.type == 0 && config.icon !== -1){\n            // 加载（加载图标）\n            if(config.icon == 16){\n              additFaceClass = 'layui-icon layui-icon-loading '+ animClass;\n            }\n            return '<i class=\"layui-layer-face layui-icon '+ (\n              additFaceClass || face[config.icon] || face[0]\n            ) +'\"></i>';\n          }\n\n          // 加载层图标\n          if(config.type == 3){\n            var type = [\n              'layui-icon-loading', \n              'layui-icon-loading-1'\n            ];\n            // 风格 2\n            if(config.icon == 2){\n              return '<div class=\"layui-layer-loading-2 '+ animClass +'\"></div>';\n            }\n            return '<i class=\"layui-layer-loading-icon layui-icon '+ (\n              type[config.icon] || type[0]\n            )+' '+ animClass +'\"></i>'\n          }\n\n          return '';\n        }()\n        + (config.type == 1 && conType ? '' : (config.content||''))\n      + '</div>'\n\n      // 右上角按钮\n      + '<div class=\"layui-layer-setwin\">'+ function(){\n        var arr = [];\n\n        // 最小化、最大化\n        if(ismax){\n          arr.push('<span class=\"layui-layer-min\"></span>');\n          arr.push('<span class=\"layui-layer-max\"></span>');\n        }\n\n        // 关闭按钮\n        if(config.closeBtn){\n          arr.push('<span class=\"layui-icon layui-icon-close '+ [\n            doms[7], \n            doms[7] + (config.title ? config.closeBtn : (config.type == 4 ? '1' : '2'))\n          ].join(' ') +'\"></span>')\n        }\n\n        return arr.join('');\n      }() + '</div>'\n\n      // 底部按钮\n      + (config.btn ? function(){\n        var button = '';\n        typeof config.btn === 'string' && (config.btn = [config.btn]);\n        for(var i = 0, len = config.btn.length; i < len; i++){\n          button += '<a class=\"'+ doms[6] +''+ i +'\">'+ config.btn[i] +'</a>'\n        }\n        return '<div class=\"'+ function(){\n          var className = [doms[6]];\n          if(config.btnAlign) className.push(doms[6] + '-' + config.btnAlign);\n          return className.join(' ');\n        }() +'\">'+ button +'</div>'\n      }() : '')\n      + (config.resize ? '<span class=\"layui-layer-resize\"></span>' : '')\n    + '</div>'\n  ], titleHTML, $('<div class=\"'+ doms.MOVE +'\" id=\"'+ doms.MOVE +'\"></div>'));\n  return that;\n};\n\n// 创建骨架\nClass.pt.creat = function(){\n  var that = this;\n  var config = that.config;\n  var times = that.index, nodeIndex;\n  var content = config.content;\n  var conType = typeof content === 'object';\n  var body = $('body');\n\n  var setAnim = function(layero){\n    // anim 兼容旧版 shift\n    if(config.shift){\n      config.anim = config.shift;\n    }\n\n    // 为兼容 jQuery3.0 的 css 动画影响元素尺寸计算\n    if(doms.anim[config.anim]){\n      var animClass = 'layer-anim '+ doms.anim[config.anim];\n      layero.addClass(animClass).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){\n        $(this).removeClass(animClass);\n      });\n    }\n  }\n\n  // 若 id 对应的弹层已经存在，则不重新创建\n  if(config.id && $('.'+ doms[0]).find('#'+ config.id)[0]){\n    return (function(){\n      var layero = $('#'+ config.id).closest('.'+ doms[0]);\n      var index = layero.attr('times');\n      var options = layero.data('config');\n      var elemShade = $('#'+ doms.SHADE + index);\n      \n      var maxminStatus = layero.data('maxminStatus') || {};\n      // 若弹层为最小化状态，则点击目标元素时，自动还原\n      if(maxminStatus === 'min'){\n        layer.restore(index);\n      } else if(options.hideOnClose){\n        elemShade.show();\n        layero.show();\n        setAnim(layero);\n        setTimeout(function(){\n          elemShade.css({opacity: elemShade.data(SHADE_KEY)});\n        }, 10);\n      }\n    })();\n  }\n\n  // 是否移除活动元素的焦点\n  if(config.removeFocus && document.activeElement) {\n    document.activeElement.blur(); // 将原始的聚焦节点失焦\n  }\n\n  // 初始化 area 属性\n  if(typeof config.area === 'string'){\n    config.area = config.area === 'auto' ? ['', ''] : [config.area, ''];\n  }\n  \n  if(layer.ie == 6){\n    config.fixed = false;\n  }\n  \n  switch(config.type){\n    case 0:\n      config.btn = ('btn' in config) ? config.btn : ready.btn[0];\n      layer.closeAll('dialog');\n    break;\n    case 2:\n      var content = config.content = conType ? config.content : [config.content||'', 'auto'];\n      config.content = '<iframe scrolling=\"'+ (config.content[1]||'auto') +'\" allowtransparency=\"true\" id=\"'+ doms[4] +''+ times +'\" name=\"'+ doms[4] +''+ times +'\" onload=\"this.className=\\'\\';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"' + config.content[0] + '\"></iframe>';\n    break;\n    case 3:\n      delete config.title;\n      delete config.closeBtn;\n      config.icon === -1 && (config.icon === 0);\n      layer.closeAll('loading');\n    break;\n    case 4:\n      conType || (config.content = [config.content, 'body']);\n      config.follow = config.content[1];\n      config.content = config.content[0] + '<i class=\"layui-layer-TipsG\"></i>';\n      delete config.title;\n      config.tips = typeof config.tips === 'object' ? config.tips : [config.tips, true];\n      config.tipsMore || layer.closeAll('tips');\n    break;\n  }\n  \n  // 建立容器\n  that.vessel(conType, function(html, titleHTML, moveElem){\n    body.append(html[0]);\n    conType ? function(){\n      (config.type == 2 || config.type == 4) ? function(){\n        $('body').append(html[1]);\n      }() : function(){\n        if(!content.parents('.'+doms[0])[0]){\n          content.data('display', content.css('display')).show().addClass('layui-layer-wrap').wrap(html[1]);\n          $('#'+ doms[0] + times).find('.'+doms[5]).before(titleHTML);\n        }\n      }();\n    }() : body.append(html[1]);\n    $('#'+ doms.MOVE)[0] || body.append(ready.moveElem = moveElem);\n    \n    that.layero = $('#'+ doms[0] + times);\n    that.shadeo = $('#'+ doms.SHADE + times);\n    \n    config.scrollbar || ready.setScrollbar(times);\n  }).auto(times);\n  \n  // 遮罩\n  that.shadeo.css({\n    'background-color': config.shade[1] || '#000'\n    ,'opacity': config.shade[0] || config.shade\n    ,'transition': config.shade[2] || ''\n  });\n  that.shadeo.data(SHADE_KEY, config.shade[0] || config.shade);\n\n  config.type == 2 && layer.ie == 6 && that.layero.find('iframe').attr('src', content[0]);\n\n  // 坐标自适应浏览器窗口尺寸\n  config.type == 4 ? that.tips() : function(){\n    that.offset()\n    // 首次弹出时，若 css 尚未加载，则等待 css 加载完毕后，重新设定尺寸\n    parseInt(ready.getStyle(document.getElementById(doms.MOVE), 'z-index')) ||  function(){\n      that.layero.css('visibility', 'hidden');\n      layer.ready(function(){\n        that.offset();\n        that.layero.css('visibility', 'visible');\n      });\n    }();\n  }();\n  \n  // 若是固定定位，则跟随 resize 事件来自适应坐标\n  if(config.fixed){\n    if(!ready.events.resize[that.index]){\n      ready.events.resize[that.index] = function(){\n        that.resize();\n      };\n      // 此处 resize 事件不会一直叠加，当关闭弹层时会移除该事件\n      win.on('resize', ready.events.resize[that.index]);\n    }\n  }\n  \n  config.time <= 0 || setTimeout(function(){\n    layer.close(that.index);\n  }, config.time);\n  that.move().callback();\n  setAnim(that.layero);\n  \n  // 记录配置信息\n  that.layero.data('config', config);\n};\n\n// 当前实例的 resize 事件\nClass.pt.resize = function(){\n  var that = this;\n  var config = that.config;\n  \n  that.offset();\n  (/^\\d+%$/.test(config.area[0]) || /^\\d+%$/.test(config.area[1])) && that.auto(that.index);\n  config.type == 4 && that.tips();\n};\n\n// 自适应\nClass.pt.auto = function(index){\n  var that = this, config = that.config, layero = $('#'+ doms[0] + index);\n  \n  if(config.area[0] === '' && config.maxWidth > 0){\n    // 适配 ie7\n    if(layer.ie && layer.ie < 8 && config.btn){\n      layero.width(layero.innerWidth());\n    }\n    layero.outerWidth() > config.maxWidth && layero.width(config.maxWidth);\n  }\n  \n  var area = [layero.innerWidth(), layero.innerHeight()];\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  var setHeight = function(elem){\n    elem = layero.find(elem);\n    elem.height(area[1] - titHeight - btnHeight - 2*(parseFloat(elem.css('padding-top'))|0));\n  };\n\n  switch(config.type){\n    case 2: \n      setHeight('iframe');\n    break;\n    default:\n      if(config.area[1] === ''){\n        if(config.maxHeight > 0 && layero.outerHeight() > config.maxHeight){\n          area[1] = config.maxHeight;\n          setHeight('.'+doms[5]);\n        } else if(config.fixed && area[1] >= win.height()){\n          area[1] = win.height();\n          setHeight('.'+doms[5]);\n        }\n      } else {\n        setHeight('.'+doms[5]);\n      }\n    break;\n  }\n  \n  return that;\n};\n\n// 计算坐标\nClass.pt.offset = function(){\n  var that = this, config = that.config, layero = that.layero;\n  var area = [layero.outerWidth(), layero.outerHeight()];\n  var type = typeof config.offset === 'object';\n  that.offsetTop = (win.height() - area[1])/2;\n  that.offsetLeft = (win.width() - area[0])/2;\n  \n  if(type){\n    that.offsetTop = config.offset[0];\n    that.offsetLeft = config.offset[1]||that.offsetLeft;\n  } else if(config.offset !== 'auto'){\n    \n    if(config.offset === 't'){ // 上\n      that.offsetTop = 0;\n    } else if(config.offset === 'r'){ // 右\n      that.offsetLeft = win.width() - area[0];\n    } else if(config.offset === 'b'){ // 下\n      that.offsetTop = win.height() - area[1];\n    } else if(config.offset === 'l'){ // 左\n      that.offsetLeft = 0;\n    } else if(config.offset === 'lt'){ // 左上\n      that.offsetTop = 0;\n      that.offsetLeft = 0;\n    } else if(config.offset === 'lb'){ // 左下\n      that.offsetTop = win.height() - area[1];\n      that.offsetLeft = 0;\n    } else if(config.offset === 'rt'){ // 右上\n      that.offsetTop = 0;\n      that.offsetLeft = win.width() - area[0];\n    } else if(config.offset === 'rb'){ // 右下\n      that.offsetTop = win.height() - area[1];\n      that.offsetLeft = win.width() - area[0];\n    } else {\n      that.offsetTop = config.offset;\n    }\n    \n  }\n \n  if(!config.fixed){\n    that.offsetTop = /%$/.test(that.offsetTop) ? \n      win.height()*parseFloat(that.offsetTop)/100\n    : parseFloat(that.offsetTop);\n    that.offsetLeft = /%$/.test(that.offsetLeft) ? \n      win.width()*parseFloat(that.offsetLeft)/100\n    : parseFloat(that.offsetLeft);\n    that.offsetTop += win.scrollTop();\n    that.offsetLeft += win.scrollLeft();\n  }\n  \n  // 最小化窗口时的自适应\n  if(layero.data('maxminStatus') === 'min'){\n    that.offsetTop = win.height() - (layero.find(doms[1]).outerHeight() || 0);\n    that.offsetLeft = layero.css('left');\n  }\n\n  // 设置坐标\n  layero.css({\n    top: that.offsetTop, \n    left: that.offsetLeft\n  });\n};\n\n// Tips\nClass.pt.tips = function(){\n  var that = this, config = that.config, layero = that.layero;\n  var layArea = [layero.outerWidth(), layero.outerHeight()], follow = $(config.follow);\n  if(!follow[0]) follow = $('body');\n  var goal = {\n    width: follow.outerWidth(),\n    height: follow.outerHeight(),\n    top: follow.offset().top,\n    left: follow.offset().left\n  }, tipsG = layero.find('.layui-layer-TipsG');\n  \n  var guide = config.tips[0];\n  config.tips[1] || tipsG.remove();\n  \n  goal.autoLeft = function(){\n    if(goal.left + layArea[0] - win.width() > 0){\n      goal.tipLeft = goal.left + goal.width - layArea[0];\n      tipsG.css({right: 12, left: 'auto'});\n    } else {\n      goal.tipLeft = goal.left;\n    }\n  };\n  \n  // 辨别 tips 的方位\n  // 21 为箭头大小 8*2 + 箭头相对父元素的top偏移 5\n  goal.where = [function(){ // 上        \n    goal.autoLeft();\n    goal.tipTop = goal.top - layArea[1] - 10;\n    tipsG.removeClass('layui-layer-TipsB').addClass('layui-layer-TipsT').css('border-right-color', config.tips[1]);\n  }, function(){ // 右\n    goal.tipLeft = goal.left + goal.width + 10;\n    goal.tipTop = goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\n    goal.tipTop = Math.max(goal.tipTop, 0);\n    tipsG.removeClass('layui-layer-TipsL').addClass('layui-layer-TipsR').css('border-bottom-color', config.tips[1]); \n  }, function(){ // 下\n    goal.autoLeft();\n    goal.tipTop = goal.top + goal.height + 10;\n    tipsG.removeClass('layui-layer-TipsT').addClass('layui-layer-TipsB').css('border-right-color', config.tips[1]);\n  }, function(){ // 左\n    goal.tipLeft = goal.left - layArea[0] - 10;\n    goal.tipTop = goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\n    goal.tipTop = Math.max(goal.tipTop, 0);\n    tipsG.removeClass('layui-layer-TipsR').addClass('layui-layer-TipsL').css('border-bottom-color', config.tips[1]);\n  }];\n  goal.where[guide-1]();\n  \n  /* 8*2为小三角形占据的空间 */\n  if(guide === 1){\n    goal.top - (win.scrollTop() + layArea[1] + 8*2) < 0 && goal.where[2]();\n  } else if(guide === 2){\n    win.width() - (goal.left + goal.width + layArea[0] + 8*2) > 0 || goal.where[3]()\n  } else if(guide === 3){\n    (goal.top - win.scrollTop() + goal.height + layArea[1] + 8*2) - win.height() > 0 && goal.where[0]();\n  } else if(guide === 4){\n     layArea[0] + 8*2 - goal.left > 0 && goal.where[1]()\n  }\n\n  layero.find('.'+doms[5]).css({\n    'background-color': config.tips[1], \n    'padding-right': (config.closeBtn ? '30px' : '')\n  });\n  layero.css({\n    left: goal.tipLeft - (config.fixed ? win.scrollLeft() : 0), \n    top: goal.tipTop  - (config.fixed ? win.scrollTop() : 0)\n  });\n}\n\n// 拖拽层\nClass.pt.move = function(){\n  var that = this;\n  var config = that.config;\n  var _DOC = $(document);\n  var layero = that.layero;\n  var DATA_NAME = ['LAY_MOVE_DICT', 'LAY_RESIZE_DICT'];\n  var moveElem = layero.find(config.move);\n  var resizeElem = layero.find('.layui-layer-resize');\n  \n  // 给指定元素添加拖动光标\n  if(config.move) moveElem.css('cursor', 'move');\n  \n  // 按下拖动元素\n  moveElem.on('mousedown', function(e){\n    if (e.button) {return;} // 不是左键不处理\n    var othis = $(this);\n    var dict = {};\n    \n    if(config.move){\n      dict.layero = layero;\n      dict.config = config;\n      dict.offset = [\n        e.clientX - parseFloat(layero.css('left')),\n        e.clientY - parseFloat(layero.css('top'))\n      ];\n      \n      othis.data(DATA_NAME[0], dict);\n      ready.eventMoveElem = othis;\n      ready.moveElem.css('cursor', 'move').show();\n    }\n    \n    e.preventDefault();\n  });\n  \n  // 按下右下角拉伸\n  resizeElem.on('mousedown', function(e){\n    var othis = $(this);\n    var dict = {};\n    \n    if(config.resize){\n      dict.layero = layero;\n      dict.config = config;\n      dict.offset = [e.clientX, e.clientY];\n      dict.index = that.index;\n      dict.area = [\n        layero.outerWidth()\n        ,layero.outerHeight()\n      ];\n      \n      othis.data(DATA_NAME[1], dict);\n      ready.eventResizeElem = othis;\n      ready.moveElem.css('cursor', 'se-resize').show();\n    }\n    \n    e.preventDefault();\n  });\n  \n  // 拖动元素，避免多次调用实例造成事件叠加\n  if(ready.docEvent) return that;\n  _DOC.on('mousemove', function(e){\n    // 拖拽移动\n    if(ready.eventMoveElem){\n      var dict = ready.eventMoveElem.data(DATA_NAME[0]) || {}\n      ,layero = dict.layero\n      ,config = dict.config;\n      \n      var X = e.clientX - dict.offset[0];\n      var Y = e.clientY - dict.offset[1];\n      var fixed = layero.css('position') === 'fixed';\n      \n      e.preventDefault();\n      \n      dict.stX = fixed ? 0 : win.scrollLeft();\n      dict.stY = fixed ? 0 : win.scrollTop();\n\n      // 控制元素不被拖出窗口外\n      if(!config.moveOut){\n        var setRig = win.width() - layero.outerWidth() + dict.stX;\n        var setBot = win.height() - layero.outerHeight() + dict.stY;  \n        X < dict.stX && (X = dict.stX);\n        X > setRig && (X = setRig); \n        Y < dict.stY && (Y = dict.stY);\n        Y > setBot && (Y = setBot);\n      }\n      \n      // 拖动时跟随鼠标位置\n      layero.css({\n        left: X,\n        top: Y\n      });\n    }\n    \n    // Resize\n    if(ready.eventResizeElem){\n      var dict = ready.eventResizeElem.data(DATA_NAME[1]) || {};\n      var config = dict.config;\n      \n      var X = e.clientX - dict.offset[0];\n      var Y = e.clientY - dict.offset[1];\n      \n      e.preventDefault();\n      \n      // 拉伸宽高\n      layer.style(dict.index, {\n        width: dict.area[0] + X\n        ,height: dict.area[1] + Y\n      });\n      \n      config.resizing && config.resizing(dict.layero);\n    }\n  }).on('mouseup', function(e){\n    if(ready.eventMoveElem){\n      var dict = ready.eventMoveElem.data(DATA_NAME[0]) || {};\n      var config = dict.config;\n      \n      ready.eventMoveElem.removeData(DATA_NAME[0]);\n      delete ready.eventMoveElem;\n      ready.moveElem.hide();\n      config.moveEnd && config.moveEnd(dict.layero);\n    }\n    if(ready.eventResizeElem){\n      ready.eventResizeElem.removeData(DATA_NAME[1]);\n      delete ready.eventResizeElem;\n      ready.moveElem.hide();\n    }\n  });\n  \n  ready.docEvent = true; // 已给 document 执行全局事件\n  return that;\n};\n\nClass.pt.btnLoading = function(btnElem, isLoading){\n  if(isLoading){\n    var loadingTpl = '<i class=\"layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>';\n    if(btnElem.find('.layui-layer-btn-loading-icon')[0]) return;\n    btnElem.addClass('layui-layer-btn-is-loading').attr({disabled: ''}).prepend(loadingTpl);\n  }else{\n    btnElem.removeClass('layui-layer-btn-is-loading').removeAttr('disabled').find('.layui-layer-btn-loading-icon').remove();\n  }\n}\n\nClass.pt.callback = function(){\n  var that = this, layero = that.layero, config = that.config;\n  that.openLayer();\n  if(config.success){\n    if(config.type == 2){\n      layero.find('iframe').on('load', function(){\n        config.success(layero, that.index, that);\n      });\n    } else {\n      config.success(layero, that.index, that);\n    }\n  }\n  layer.ie == 6 && that.IE6(layero);\n  \n  // 按钮\n  layero.find('.'+ doms[6]).children('a').on('click', function(){\n    var btnElem = $(this);\n    var index = btnElem.index();\n    if(btnElem.attr('disabled')) return;\n\n    // 若为异步按钮\n    if(config.btnAsync){\n      var btnCallback = index === 0 ? (config.yes || config['btn1']) : config['btn'+(index+1)];\n      that.loading = function(isLoading){\n        that.btnLoading(btnElem, isLoading);\n      }\n\n      if(btnCallback){\n        ready.promiseLikeResolve(btnCallback.call(config, that.index, layero, that))\n          .then(function(result){\n            if(result !== false){\n              layer.close(that.index)\n            }\n          }, function(reason){\n             reason !== undefined && window.console && window.console.error('layer error hint: ' + reason);\n          });\n      }else{\n        layer.close(that.index);\n      }\n    } else { // 普通按钮\n      if(index === 0){\n        if(config.yes){\n          config.yes(that.index, layero, that);\n        } else if(config['btn1']){\n          config['btn1'](that.index, layero, that);\n        } else {\n          layer.close(that.index);\n        }\n      } else {\n        var close = config['btn'+(index+1)] && config['btn'+(index+1)](that.index, layero, that);\n        close === false || layer.close(that.index);\n      }\n    }\n  });\n  \n  // 取消\n  function cancel(){\n    var close = config.cancel && config.cancel(that.index, layero, that);\n    close === false || layer.close(that.index);\n  }\n  \n  // 右上角关闭回调\n  layero.find('.'+ doms[7]).on('click', cancel);\n  \n  // 点遮罩关闭\n  if(config.shadeClose){\n    that.shadeo.on('click', function(){\n      layer.close(that.index);\n    });\n  } \n  \n  // 最小化\n  layero.find('.layui-layer-min').on('click', function(){\n    var min = config.min && config.min(layero, that.index, that);\n    min === false || layer.min(that.index, config);\n  });\n  \n  // 全屏/还原\n  layero.find('.layui-layer-max').on('click', function(){\n    if($(this).hasClass('layui-layer-maxmin')){\n      layer.restore(that.index);\n      config.restore && config.restore(layero, that.index, that);\n    } else {\n      layer.full(that.index, config);\n      setTimeout(function(){\n        config.full && config.full(layero, that.index, that);\n      }, 100);\n    }\n  });\n\n  config.end && (ready.end[that.index] = config.end);\n  config.beforeEnd && (ready.beforeEnd[that.index] = $.proxy(config.beforeEnd, config, layero, that.index, that));\n};\n\n// for ie6 恢复 select\nready.reselect = function(){\n  $.each($('select'), function(index , value){\n    var sthis = $(this);\n    if(!sthis.parents('.'+doms[0])[0]){\n      (sthis.attr('layer') == 1 && $('.'+doms[0]).length < 1) && sthis.removeAttr('layer').show(); \n    }\n    sthis = null;\n  });\n}; \n\nClass.pt.IE6 = function(layero){\n  // 隐藏select\n  $('select').each(function(index , value){\n    var sthis = $(this);\n    if(!sthis.parents('.'+doms[0])[0]){\n      sthis.css('display') === 'none' || sthis.attr({'layer' : '1'}).hide();\n    }\n    sthis = null;\n  });\n};\n\n// 需依赖原型的对外方法\nClass.pt.openLayer = function(){\n  var that = this;\n  \n  // 置顶当前窗口\n  layer.zIndex = that.config.zIndex;\n  layer.setTop = function(layero){\n    var setZindex = function(){\n      layer.zIndex++;\n      layero.css('z-index', layer.zIndex + 1);\n    };\n    layer.zIndex = parseInt(layero[0].style.zIndex);\n    layero.on('mousedown', setZindex);\n    return layer.zIndex;\n  };\n};\n\n// 记录宽高坐标，用于还原\nready.record = function(layero){\n  if(!layero[0]) return window.console && console.error('index error');\n  var type = layero.attr('type');\n  var contentElem = layero.find('.layui-layer-content');\n  var contentRecordHeightElem = type === ready.type[2] ? contentElem.children('iframe') : contentElem;\n  var area = [\n    layero[0].style.width || ready.getStyle(layero[0], 'width'),\n    layero[0].style.height || ready.getStyle(layero[0], 'height'),\n    layero.position().top, \n    layero.position().left + parseFloat(layero.css('margin-left'))\n  ];\n  layero.find('.layui-layer-max').addClass('layui-layer-maxmin');\n  layero.attr({area: area});\n  contentElem.data(RECORD_HEIGHT_KEY, ready.getStyle(contentRecordHeightElem[0], 'height'));\n};\n\n// 设置页面滚动条\nready.setScrollbar = function(index){\n  doms.html.css('overflow', 'hidden').attr('layer-full', index);\n};\n\n// 恢复页面滚动条\nready.restScrollbar = function(index){\n  if(doms.html.attr('layer-full') == index){\n    doms.html[0].style[doms.html[0].style.removeProperty \n      ? 'removeProperty' \n    : 'removeAttribute']('overflow');\n    doms.html.removeAttr('layer-full');\n  }\n};\n\n// 类似 Promise.resolve\nready.promiseLikeResolve = function(value){\n  var deferred = $.Deferred();\n\n  if(value && typeof value.then === 'function'){\n    value.then(deferred.resolve, deferred.reject);\n  }else{\n    deferred.resolve(value);\n  }\n  return deferred.promise();\n}\n\n/** 内置成员 */\n\nwindow.layer = layer;\n\n// 获取子 iframe 的 DOM\nlayer.getChildFrame = function(selector, index){\n  index = index || $('.'+doms[4]).attr('times');\n  return $('#'+ doms[0] + index).find('iframe').contents().find(selector);  \n};\n\n// 得到当前 iframe 层的索引，子 iframe 时使用\nlayer.getFrameIndex = function(name){\n  return $('#'+ name).parents('.'+doms[4]).attr('times');\n};\n\n// iframe 层自适应宽高\nlayer.iframeAuto = function(index){\n  if(!index) return;\n  var heg = layer.getChildFrame('html', index).outerHeight();\n  var layero = $('#'+ doms[0] + index);\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  layero.css({height: heg + titHeight + btnHeight});\n  layero.find('iframe').css({height: heg});\n};\n\n// 重置 iframe url\nlayer.iframeSrc = function(index, url){\n  $('#'+ doms[0] + index).find('iframe').attr('src', url);\n};\n\n// 设定层的样式\nlayer.style = function(index, options, limit){\n  var layero = $('#'+ doms[0] + index);\n  var contentElem = layero.find('.layui-layer-content');\n  var type = layero.attr('type');\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  var minLeft = layero.attr('minLeft');\n  \n  // loading 和 tips 层不允许更改\n  if(type === ready.type[3] || type === ready.type[4]){\n    return;\n  }\n  \n  if(!limit){\n    if(parseFloat(options.width) <= 260){\n      options.width = 260;\n    }\n    \n    if(parseFloat(options.height) - titHeight - btnHeight <= 64){\n      options.height = 64 + titHeight + btnHeight;\n    }\n  }\n  layero.css(options);\n  btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  \n  if(type === ready.type[2]){\n    layero.find('iframe').css({\n      height: (typeof options.height === 'number' ? options.height : layero.height()) - titHeight - btnHeight\n    });\n  } else {\n    contentElem.css({\n      height: (typeof options.height === 'number' ? options.height : layero.height()) - titHeight - btnHeight\n      - parseFloat(contentElem.css('padding-top'))\n      - parseFloat(contentElem.css('padding-bottom'))\n    })\n  }\n};\n\n// 最小化\nlayer.min = function(index, options){\n  var layero = $('#'+ doms[0] + index);\n  var maxminStatus = layero.data('maxminStatus');\n\n  if(maxminStatus === 'min') return; // 当前的状态是否已经是最小化\n  if(maxminStatus === 'max') layer.restore(index); // 若当前为最大化，则先还原后再最小化\n\n  layero.data('maxminStatus', 'min');\n  options = options || layero.data('config') || {};\n\n  var shadeo = $('#'+ doms.SHADE + index);\n  var elemMin = layero.find('.layui-layer-min');\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var minLeft = layero.attr('minLeft'); // 最小化时的横坐标\n  var hasMinLeft = typeof minLeft === 'string'; // 是否已经赋值过最小化坐标\n  var left = hasMinLeft ? minLeft : (181*ready.minStackIndex)+'px';\n  var position = layero.css('position');\n  var minWidth = 180; // 最小化时的宽度\n  var settings = {\n    width: minWidth\n    ,height: titHeight\n    ,position: 'fixed'\n    ,overflow: 'hidden'\n  };\n\n  ready.record(layero);  // 记录当前尺寸、坐标，用于还原\n\n  // 简易最小化补位\n  if(ready.minStackArr.length > 0){\n    left = ready.minStackArr[0];\n    ready.minStackArr.shift();\n  }\n\n  // left 是否超出边界\n  if(parseFloat(left) + minWidth  > win.width()){\n    left = win.width() - minWidth - function(){\n      ready.minStackArr.edgeIndex = ready.minStackArr.edgeIndex || 0;\n      return ready.minStackArr.edgeIndex += 3;\n    }();\n    if(left < 0) left = 0;\n  }\n  \n  // 是否堆叠在左下角\n  if(options.minStack){\n    settings.left = left;\n    settings.top = win.height() - titHeight;\n    hasMinLeft || ready.minStackIndex++; // 若未赋值过最小化坐标，则最小化操作索引自增\n    layero.attr('minLeft', left);\n  }\n  \n  layero.attr('position', position);\n  layer.style(index, settings, true);\n\n  elemMin.hide();\n  layero.attr('type') === 'page' && layero.find(doms[4]).hide();\n  ready.restScrollbar(index);\n\n  // 隐藏遮罩\n  shadeo.hide();\n};\n\n// 还原\nlayer.restore = function(index){\n  var layero = $('#'+ doms[0] + index);\n  var shadeo = $('#'+ doms.SHADE + index);\n  var contentElem = layero.find('.layui-layer-content');\n  var area = layero.attr('area').split(',');\n  var type = layero.attr('type');\n  var options = layero.data('config') || {};\n  var contentRecordHeight = contentElem.data(RECORD_HEIGHT_KEY);\n\n  layero.removeData('maxminStatus'); // 移除最大最小状态\n  \n  // 恢复原来尺寸\n  layer.style(index, {\n    width: area[0], // 数值或百分比\n    height: area[1],\n    top: parseFloat(area[2]),\n    left: parseFloat(area[3]),\n    position: layero.attr('position'),\n    overflow: 'visible'\n  }, true);\n  \n  layero.find('.layui-layer-max').removeClass('layui-layer-maxmin');\n  layero.find('.layui-layer-min').show();\n  type === 'page' && layero.find(doms[4]).show();\n\n  // 恢复页面滚动条弹层打开时的状态\n  options.scrollbar ? ready.restScrollbar(index) : ready.setScrollbar(index);\n\n  // #1604\n  if(contentRecordHeight !== undefined){\n    contentElem.removeData(RECORD_HEIGHT_KEY);\n    var contentRecordHeightElem = type === ready.type[2] ? contentElem.children('iframe') : contentElem;\n    contentRecordHeightElem.css({height: contentRecordHeight});\n  }\n  \n  // 恢复遮罩\n  shadeo.show();\n  // ready.events.resize[index](); // ?\n};\n\n// 全屏（最大化）\nlayer.full = function(index){\n  var layero = $('#'+ doms[0] + index);\n  var maxminStatus = layero.data('maxminStatus');\n\n  if(maxminStatus === 'max') return // 检查当前的状态是否已经是最大化\n  if(maxminStatus === 'min') layer.restore(index); // 若当前为最小化，则先还原后再最大化\n\n  layero.data('maxminStatus', 'max');\n  ready.record(layero); // 记录当前尺寸、坐标\n\n  if(!doms.html.attr('layer-full')){\n    ready.setScrollbar(index);\n  }\n\n  setTimeout(function(){\n    var isfix = layero.css('position') === 'fixed';\n    layer.style(index, {\n      top: isfix ? 0 : win.scrollTop(),\n      left: isfix ? 0 : win.scrollLeft(),\n      width: '100%',\n      height: '100%'\n    }, true);\n    layero.find('.layui-layer-min').hide();\n  }, 100);\n};\n\n// 改变 title\nlayer.title = function(name, index){\n  var title = $('#'+ doms[0] + (index || layer.index)).find(doms[1]);\n  title.html(name);\n};\n\n// 关闭 layer 总方法\nlayer.close = function(index, callback){\n  var layero = function(){\n    var closest = $('.'+ doms[0]).children('#'+ index).closest('.'+ doms[0]);\n    return closest[0] ? (\n      index = closest.attr('times'),\n      closest\n    ) : $('#'+ doms[0] + index)\n  }();\n  var type = layero.attr('type');\n  var options = layero.data('config') || {};\n  var hideOnClose = options.id && options.hideOnClose; // 是否关闭时移除弹层容器\n\n  if(!layero[0]) return;\n\n  var executor = function(){\n    // 关闭动画\n    var closeAnim = ({\n      slideDown: 'layer-anim-slide-down-out',\n      slideLeft: 'layer-anim-slide-left-out',\n      slideUp: 'layer-anim-slide-up-out',\n      slideRight: 'layer-anim-slide-right-out'\n    })[options.anim] || 'layer-anim-close';\n  \n    // 移除主容器\n    var remove = function(){\n      var WRAP = 'layui-layer-wrap';\n  \n      // 是否关闭时隐藏弹层容器\n      if(hideOnClose){\n        layero.removeClass('layer-anim '+ closeAnim);\n        return layero.hide();\n      }\n  \n      // 是否为页面捕获层\n      if(type === ready.type[1] && layero.attr('conType') === 'object'){\n        layero.children(':not(.'+ doms[5] +')').remove();\n        var wrap = layero.find('.'+WRAP);\n        for(var i = 0; i < 2; i++){\n          wrap.unwrap();\n        }\n        wrap.css('display', wrap.data('display')).removeClass(WRAP);\n      } else {\n        // 低版本 IE 回收 iframe\n        if(type === ready.type[2]){\n          try {\n            var iframe = $('#'+ doms[4] + index)[0];\n            iframe.contentWindow.document.write('');\n            iframe.contentWindow.close();\n            layero.find('.'+doms[5])[0].removeChild(iframe);\n          } catch(e){}\n        }\n        layero[0].innerHTML = '';\n        layero.remove();\n      }\n  \n      typeof ready.end[index] === 'function' && ready.end[index]();\n      delete ready.end[index];\n      typeof callback === 'function' && callback();\n  \n      // 移除 reisze 事件\n      if(ready.events.resize[index]){\n        win.off('resize', ready.events.resize[index]);\n        delete ready.events.resize[index];\n      }\n    };\n    // 移除遮罩\n    var shadeo = $('#'+ doms.SHADE + index);\n    if((layer.ie && layer.ie < 10) || !options.isOutAnim){\n      shadeo[hideOnClose ? 'hide' : 'remove']();\n    }else{\n      shadeo.css({opacity: 0});\n      setTimeout(function(){\n        shadeo[hideOnClose ? 'hide' : 'remove']();\n      }, 350);\n    }\n    \n    // 是否允许关闭动画\n    if(options.isOutAnim){\n      layero.addClass('layer-anim '+ closeAnim);\n    }\n    \n    layer.ie == 6 && ready.reselect();\n    ready.restScrollbar(index); \n    \n    // 记住被关闭层的最小化堆叠坐标\n    if(typeof layero.attr('minLeft') === 'string'){\n      ready.minStackIndex--;\n      ready.minStackArr.push(layero.attr('minLeft'));\n    }\n    \n    if((layer.ie && layer.ie < 10) || !options.isOutAnim){\n      remove()\n    } else {\n      setTimeout(function(){\n        remove();\n      }, 200);\n    }\n  }\n\n  if(!hideOnClose && typeof ready.beforeEnd[index] === 'function'){\n    ready.promiseLikeResolve(ready.beforeEnd[index]())\n      .then(function(result){\n        if(result !== false){\n          delete ready.beforeEnd[index];\n          executor();\n        }\n      }, function(reason){\n        reason !== undefined && window.console && window.console.error('layer error hint: ' + reason);\n      });\n  }else{\n    delete ready.beforeEnd[index];\n    executor();\n  }\n};\n\n// 关闭所有层\nlayer.closeAll = function(type, callback){\n  if(typeof type === 'function'){\n    callback = type;\n    type = null;\n  }\n  var domsElem = $('.'+doms[0]);\n  $.each(domsElem, function(_index){\n    var othis = $(this);\n    var is = type ? (othis.attr('type') === type) : 1;\n    is && layer.close(othis.attr('times'), _index === domsElem.length - 1 ? callback : null);\n    is = null;\n  });\n  if(domsElem.length === 0) typeof callback === 'function' && callback();\n};\n\n// 根据弹层类型关闭最近打开的层\nlayer.closeLast = function(type, callback){\n  var layerIndexList = [];\n  var isArrayType = $.isArray(type);\n  $(typeof type === 'string' ? '.layui-layer-' + type : '.layui-layer').each(function(i, el){\n    var layero = $(el);\n    var shouldSkip = (isArrayType && type.indexOf(layero.attr('type')) === -1) || layero.css('display') === 'none';\n    if(shouldSkip) return true;\n    layerIndexList.push(Number(layero.attr('times')));\n  });\n  if(layerIndexList.length > 0){\n    var layerIndexMax = Math.max.apply(null, layerIndexList);\n    layer.close(layerIndexMax, callback);\n  }\n};\n\n\n/*\n * 拓展模块，layui 开始合并在一起\n */\n\n\nvar cache = layer.cache || {};\nvar skin = function(type){\n  return (cache.skin ? (' ' + cache.skin + ' ' + cache.skin + '-'+type) : '');\n}; \n \n// 仿系统 prompt\nlayer.prompt = function(options, yes){\n  var style = '', placeholder = '';\n  options = options || {};\n  \n  if(typeof options === 'function') yes = options;\n  \n  if(options.area){\n    var area = options.area;\n    style = 'style=\"width: '+ area[0] +'; height: '+ area[1] + ';\"';\n    delete options.area;\n  }\n  if (options.placeholder) {\n    placeholder = ' placeholder=\"' + options.placeholder + '\"';\n  }\n  var prompt, content = options.formType == 2 ? '<textarea class=\"layui-layer-input\"' + style + placeholder + '></textarea>' : function () {\n    return '<input type=\"' + (options.formType == 1 ? 'password' : 'text') + '\" class=\"layui-layer-input\"' + placeholder + '>';\n  }();\n  \n  var success = options.success;\n  delete options.success;\n  \n  return layer.open($.extend({\n    type: 1,\n    btn: ['确定','取消'],\n    content: content,\n    skin: 'layui-layer-prompt' + skin('prompt'),\n    maxWidth: win.width(),\n    success: function(layero){\n      prompt = layero.find('.layui-layer-input');\n      prompt.val(options.value || '').focus();\n      typeof success === 'function' && success(layero);\n    },\n    resize: false,\n    yes: function(index){\n      var value = prompt.val();\n      if(value.length > (options.maxlength||500)) {\n        layer.tips('最多输入'+ (options.maxlength || 500) +'个字符', prompt, {tips: 1});\n      } else {\n        yes && yes(value, index, prompt);\n      }\n    }\n  }, options));\n};\n\n// tab 层\nlayer.tab = function(options){\n  options = options || {};\n  \n  var tab = options.tab || {};\n  var THIS = 'layui-this';\n  var success = options.success;\n  \n  delete options.success;\n  \n  return layer.open($.extend({\n    type: 1,\n    skin: 'layui-layer-tab' + skin('tab'),\n    resize: false,\n    title: function(){\n      var len = tab.length, ii = 1, str = '';\n      if(len > 0){\n        str = '<span class=\"'+ THIS +'\">'+ tab[0].title +'</span>';\n        for(; ii < len; ii++){\n          str += '<span>'+ tab[ii].title +'</span>';\n        }\n      }\n      return str;\n    }(),\n    content: '<ul class=\"layui-layer-tabmain\">'+ function(){\n      var len = tab.length, ii = 1, str = '';\n      if(len > 0){\n        str = '<li class=\"layui-layer-tabli '+ THIS +'\">'+ (tab[0].content || 'no content') +'</li>';\n        for(; ii < len; ii++){\n          str += '<li class=\"layui-layer-tabli\">'+ (tab[ii].content || 'no  content') +'</li>';\n        }\n      }\n      return str;\n    }() +'</ul>',\n    success: function(layero){\n      var btn = layero.find('.layui-layer-title').children();\n      var main = layero.find('.layui-layer-tabmain').children();\n      btn.on('mousedown', function(e){\n        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n        var othis = $(this), index = othis.index();\n        othis.addClass(THIS).siblings().removeClass(THIS);\n        main.eq(index).show().siblings().hide();\n        typeof options.change === 'function' && options.change(index);\n      });\n      typeof success === 'function' && success(layero);\n    }\n  }, options));\n};\n\n// 图片层\nlayer.photos = function(options, loop, key){\n  var dict = {};\n\n  // 默认属性\n  options = $.extend(true, {\n    toolbar: true,\n    footer: true\n  }, options);\n\n  if(!options.photos) return;\n  \n  // 若 photos 并非选择器或 jQuery 对象，则为普通 object\n  var isObject = !(typeof options.photos === 'string' || options.photos instanceof $);\n  var photos = isObject ? options.photos : {};\n  var data = photos.data || [];\n  var start = photos.start || 0;\n  var success = options.success;\n  \n  dict.imgIndex = (start|0) + 1;\n  options.img = options.img || 'img';\n  delete options.success;\n  \n  // 若 options.photos 不是一个对象\n  if(!isObject){ // 页面直接获取\n    var parent = $(options.photos), pushData = function(){\n      data = [];\n      parent.find(options.img).each(function(index){\n        var othis = $(this);\n        othis.attr('layer-index', index);\n        data.push({\n          alt: othis.attr('alt'),\n          pid: othis.attr('layer-pid'),\n          src: othis.attr('lay-src') || othis.attr('layer-src') || othis.attr('src'),\n          thumb: othis.attr('src')\n        });\n      });\n    };\n    \n    pushData();\n    \n    if (data.length === 0) return;\n    \n    loop || parent.on('click', options.img, function(){\n      pushData();\n      var othis = $(this), index = othis.attr('layer-index'); \n      layer.photos($.extend(options, {\n        photos: {\n          start: index,\n          data: data,\n          tab: options.tab\n        },\n        full: options.full\n      }), true);\n    });\n    \n    // 不直接弹出\n    if (!loop) return;\n  } else if (data.length === 0){\n    return layer.msg('没有图片');\n  }\n  \n  // 上一张\n  dict.imgprev = function(key){\n    dict.imgIndex--;\n    if(dict.imgIndex < 1){\n      dict.imgIndex = data.length;\n    }\n    dict.tabimg(key);\n  };\n  \n  // 下一张\n  dict.imgnext = function(key,errorMsg){\n    dict.imgIndex++;\n    if(dict.imgIndex > data.length){\n      dict.imgIndex = 1;\n      if (errorMsg) {return}\n    }\n    dict.tabimg(key)\n  };\n  \n  // 方向键\n  dict.keyup = function(event){\n    if(!dict.end){\n      var code = event.keyCode;\n      event.preventDefault();\n      if(code === 37){\n        dict.imgprev(true);\n      } else if(code === 39) {\n        dict.imgnext(true);\n      } else if(code === 27) {\n        layer.close(dict.index);\n      }\n    }\n  }\n  \n  // 切换\n  dict.tabimg = function(key){\n    if(data.length <= 1) return;\n    photos.start = dict.imgIndex - 1;\n    layer.close(dict.index);\n    return layer.photos(options, true, key);\n  }\n\n  dict.isNumber = function (n) {\n    return typeof n === 'number' && !isNaN(n);\n  }\n\n  dict.image = {};\n\n  dict.getTransform = function(opts){\n    var transforms = [];\n    var rotate = opts.rotate;\n    var scaleX = opts.scaleX;\n    var scale = opts.scale;\n\n    if (dict.isNumber(rotate) && rotate !== 0) {\n      transforms.push('rotate(' + rotate + 'deg)');\n    }\n\n    if (dict.isNumber(scaleX) && scaleX !== 1) {\n      transforms.push('scaleX(' + scaleX + ')');\n    }\n\n    if (dict.isNumber(scale)) {\n      transforms.push('scale(' + scale + ')');\n    }\n\n    return transforms.length ? transforms.join(' ') : 'none';\n  }\n  \n  // 一些动作\n  dict.event = function(layero, index, that){\n    // 上一张\n    dict.main.find('.layui-layer-photos-prev').on('click', function(event){\n      event.preventDefault();\n      dict.imgprev(true);\n    });  \n    \n    // 下一张\n    dict.main.find('.layui-layer-photos-next').on('click', function(event){\n      event.preventDefault();\n      dict.imgnext(true);\n    });\n    \n    $(document).on('keyup', dict.keyup);\n\n    // 头部工具栏事件\n    layero.off('click').on('click','*[toolbar-event]', function () {\n      var othis = $(this);\n      var event = othis.attr('toolbar-event');\n      switch (event) {\n        case 'rotate':\n          dict.image.rotate = ((dict.image.rotate || 0) + Number(othis.attr('data-option'))) % 360;\n          dict.imgElem.css({\n            transform: dict.getTransform(dict.image)\n          });\n          break;\n        case 'scalex':\n          dict.image.scaleX = dict.image.scaleX === -1 ? 1 : -1;\n          dict.imgElem.css({\n            transform: dict.getTransform(dict.image)\n          });\n          break;\n        case 'zoom':\n          var ratio = Number(othis.attr('data-option'));\n          dict.image.scale = (dict.image.scale || 1) + ratio;\n          // 缩小状态最小值\n          if (ratio < 0 && dict.image.scale < 0 - ratio) {\n            dict.image.scale = 0 - ratio;\n          }\n          dict.imgElem.css({\n            transform: dict.getTransform(dict.image)\n          });\n          break;\n        case 'reset':\n          dict.image.scaleX = 1;\n          dict.image.scale = 1;\n          dict.image.rotate = 0;\n          dict.imgElem.css({\n            transform: 'none'\n          });\n          break;\n        case 'close':\n          layer.close(index);\n          break;\n      }\n      that.offset();\n      that.auto(index);\n    });\n    \n    // 鼠标滚轮缩放图片事件\n    dict.main.on('mousewheel DOMMouseScroll', function(e) {\n      var delta = e.originalEvent.wheelDelta || -e.originalEvent.detail;\n      var zoomElem = dict.main.find('[toolbar-event=\"zoom\"]');\n      if (delta > 0) {\n        zoomElem.eq(0).trigger('click');\n      } else {\n        zoomElem.eq(1).trigger('click');\n      }\n      e.preventDefault();\n    });\n\n    // 滑动切换图片事件，仅限 layui 中 \n    if(window.layui || window.lay){\n      var lay = window.layui.lay || window.lay;\n      var touchEndCallback = function(e, state){\n        var duration = Date.now() - state.timeStart;\n        var speed = state.distanceX / duration;\n        var threshold = win.width() / 3;\n        var shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(state.distanceX) > threshold;\n        if(!shouldSwipe) return;\n        if(state.direction === 'left'){\n          dict.imgnext(true);\n        }else if(state.direction === 'right'){\n          dict.imgprev(true);\n        }\n      }\n\n      $.each([that.shadeo, dict.main], function(i, elem){\n        lay.touchSwipe(elem, {\n          onTouchEnd: touchEndCallback\n        })\n      })\n    }\n  };\n  \n  // 图片预加载\n  function loadImage(url, callback, error) {   \n    var img = new Image();\n    img.src = url; \n    if(img.complete){\n      return callback(img);\n    }\n    img.onload = function(){\n      img.onload = null;\n      callback(img);\n    };\n    img.onerror = function(e){\n      img.onerror = null;\n      error(e);\n    };  \n  }\n  \n  dict.loadi = layer.load(1, {\n    shade: 'shade' in options ? false : [0.9, undefined, 'unset'],\n    scrollbar: false\n  });\n\n  loadImage(data[start].src, function(img){\n    layer.close(dict.loadi);\n    \n    var alt = data[start].alt || '';\n\n    // 切换图片时不出现动画\n    if(key) options.anim = -1;\n    \n    // 弹出图片层\n    dict.index = layer.open($.extend({\n      type: 1,\n      id: 'layui-layer-photos',\n      area: function(){\n        var imgarea = [img.width, img.height];\n        var winarea = [$(window).width() - 100, $(window).height() - 100];\n        \n        // 若实际图片的宽或者高比 屏幕大（那么进行缩放）\n        if(!options.full && (imgarea[0]>winarea[0]||imgarea[1]>winarea[1])){\n          var wh = [imgarea[0]/winarea[0],imgarea[1]/winarea[1]];// 取宽度缩放比例、高度缩放比例\n          if(wh[0] > wh[1]){// 取缩放比例最大的进行缩放\n            imgarea[0] = imgarea[0]/wh[0];\n            imgarea[1] = imgarea[1]/wh[0];\n          } else if(wh[0] < wh[1]){\n            imgarea[0] = imgarea[0]/wh[1];\n            imgarea[1] = imgarea[1]/wh[1];\n          }\n        }\n\n        return [imgarea[0]+'px', imgarea[1]+'px']; \n      }(),\n      title: false,\n      shade: [0.9, undefined, 'unset'],\n      shadeClose: true,\n      closeBtn: false,\n      move: '.layer-layer-photos-main img',\n      moveType: 1,\n      scrollbar: false,\n      moveOut: true,\n      anim: 5,\n      isOutAnim: false,\n      skin: 'layui-layer-photos' + skin('photos'),\n      content: '<div class=\"layer-layer-photos-main\">'\n        + '<img src=\"'+ data[start].src +'\" alt=\"'+ alt +'\" layer-pid=\"'+ (data[start].pid || '') +'\">'\n        + function(){\n          var arr = ['<div class=\"layui-layer-photos-pointer\">'];\n\n          // 左右箭头翻页\n          if (data.length > 1) {\n            arr.push(['<div class=\"layer-layer-photos-page\">',\n              '<span class=\"layui-icon layui-icon-left layui-layer-photos-prev\"></span>',\n              '<span class=\"layui-icon layui-icon-right layui-layer-photos-next\"></span>',\n            '</div>'].join(''));\n          }\n\n          // 头部工具栏\n          if (options.toolbar) {\n            arr.push([\n              '<div class=\"layui-layer-photos-toolbar layui-layer-photos-header\">',\n                '<span toolbar-event=\"rotate\" data-option=\"90\" title=\"旋转\"><i class=\"layui-icon layui-icon-refresh\"></i></span>',\n                '<span toolbar-event=\"scalex\" title=\"变换\"><i class=\"layui-icon layui-icon-slider\"></i></span>',\n                '<span toolbar-event=\"zoom\" data-option=\"0.1\" title=\"放大\"><i class=\"layui-icon layui-icon-add-circle\"></i></span>',\n                '<span toolbar-event=\"zoom\" data-option=\"-0.1\" title=\"缩小\"><i class=\"layui-icon layui-icon-reduce-circle\"></i></span>',\n                '<span toolbar-event=\"reset\" title=\"还原\"><i class=\"layui-icon layui-icon-refresh-1\"></i></span>',\n                '<span toolbar-event=\"close\" title=\"关闭\"><i class=\"layui-icon layui-icon-close\"></i></span>',\n              '</div>'\n            ].join(''));\n          }\n\n          // 底部栏\n          if (options.footer) {\n            arr.push(['<div class=\"layui-layer-photos-toolbar layui-layer-photos-footer\">',\n              '<h3>'+ alt +'</h3>',\n              '<em>'+ dict.imgIndex +' / '+ data.length +'</em>',\n              '<a href=\"'+ data[start].src +'\" target=\"_blank\">查看原图</a>',\n            '</div>'].join(''));\n          }\n\n          arr.push('</div>');\n          return arr.join('');\n        }()\n      +'</div>',\n      success: function(layero, index, that){\n        dict.main = layero.find('.layer-layer-photos-main');\n        dict.footer = layero.find('.layui-layer-photos-footer');\n        dict.imgElem = dict.main.children('img');\n        dict.event(layero, index, that);\n        options.tab && options.tab(data[start], layero);\n        typeof success === 'function' && success(layero);\n      }, end: function(){\n        dict.end = true;\n        $(document).off('keyup', dict.keyup);\n      }\n    }, options));\n  }, function(){\n    layer.close(dict.loadi);\n    layer.msg('当前图片地址异常，<br>是否继续查看下一张？', {\n      time: 30000, \n      btn: ['下一张', '不看了'], \n      yes: function(){\n        data.length > 1 && dict.imgnext(true,true);\n      }\n    });\n  });\n};\n\n// 主入口\nready.run = function(_$){\n  $ = _$;\n  win = $(window);\n  \n  // 移动端兼容性处理\n  // https://gitee.com/layui/layui/issues/I81WGC\n  // https://github.com/jquery/jquery/issues/1729\n  var agent = navigator.userAgent.toLowerCase();\n  var isMobile = /android|iphone|ipod|ipad|ios/.test(agent)\n  var _win = $(window);\n  if(isMobile){\n    $.each({Height: \"height\", Width: \"width\"}, function(propSuffix, funcName){\n      var propName = 'inner' + propSuffix;\n      win[funcName] = function(){\n        return propName in window \n          ? window[propName]\n          : _win[funcName]()\n      }\n    })\n  }\n  doms.html = $('html');\n  layer.open = function(deliver){\n    var o = new Class(deliver);\n    return o.index;\n  };\n};\n\n// 加载方式\nwindow.layui && layui.define ? (\n  layer.ready(),\n  layui.define(['jquery','lay'], function(exports){ // layui\n    layer.path = layui.cache.dir;\n    ready.run(layui.$);\n\n    // export api\n    window.layer = layer;\n    exports('layer', layer);\n  })\n) : (\n  (typeof define === 'function' && define.amd) ? define(['jquery'], function(){ // requirejs\n    ready.run(jQuery);\n    return layer;\n  }) : function(){ // 普通 script 标签引入\n    layer.ready();\n    ready.run(jQuery);\n  }()\n);\n\n\n"],"names":["isLayui","$","win","ready","jsPath","js","last","src","i","GLOBAL","node","name","style","href","fn","cssname","layer","head","link","app","id","STATUS_NAME","timeout","poll","status","delay","getLinkElem","agent","options","callback","ver","path","content","yes","type","cancel","end","rskin","skin","anim","doms","icon","follow","Class","setings","that","creat","SHADE_KEY","RECORD_HEIGHT_KEY","conType","times","config","zIndex","titype","ismax","titleHTML","face","additFaceClass","animClass","arr","button","len","className","body","setAnim","layero","index","elemShade","maxminStatus","html","moveElem","area","titHeight","btnHeight","setHeight","elem","layArea","goal","tipsG","guide","_DOC","DATA_NAME","resizeElem","e","othis","dict","X","Y","fixed","setRig","setBot","btnElem","isLoading","loadingTpl","btnCallback","result","reason","close","min","value","sthis","setZindex","contentElem","contentRecordHeightElem","deferred","selector","heg","url","limit","shadeo","elemMin","minLeft","hasMinLeft","left","position","minWidth","settings","contentRecordHeight","isfix","title","closest","hideOnClose","executor","closeAnim","remove","WRAP","wrap","iframe","domsElem","_index","is","layerIndexList","isArrayType","el","shouldSkip","layerIndexMax","cache","placeholder","prompt","success","tab","THIS","ii","str","btn","main","loop","key","isObject","photos","data","start","parent","pushData","errorMsg","event","code","n","opts","transforms","rotate","scaleX","scale","ratio","delta","zoomElem","lay","touchEndCallback","state","duration","speed","threshold","shouldSwipe","loadImage","error","img","alt","imgarea","winarea","wh","_$","isMobile","_win","propSuffix","funcName","propName","deliver","o","exports","jQuery"],"mappings":"qCASIA,EAAU,OAAO,OAAS,MAAM,OAChCC,EACAC,EACAC,EAAQ,CACV,QAAS,UAAU,CACjB,IAAIC,EAAS,SAAS,cAAgB,SAAS,cAAc,IAAM,UAAU,CAI3E,QAHIC,EAAK,SAAS,QACdC,EAAOD,EAAG,OAAS,EACnBE,EACIC,EAAIF,EAAME,EAAI,EAAGA,IACvB,GAAGH,EAAGG,CAAC,EAAE,aAAe,cAAc,CACpCD,EAAMF,EAAGG,CAAC,EAAE,IACZ,MAGJ,OAAOD,GAAOF,EAAGC,CAAI,EAAE,GACzB,EACIG,EAAAA,EAAS,OAAO,cAAgB,GACpC,OAAOA,EAAO,WAAaL,EAAO,UAAU,EAAGA,EAAO,YAAY,GAAG,EAAI,CAAC,CAC5E,IACA,OAAQ,CACN,YAAa,EACf,EACA,IAAK,CACL,EAAA,UAAW,CAAA,EACX,OAAQ,CAAC,OAAQ,EAAE,EACnB,cAAe,EACf,YAAa,GACb,IAAK,CAAC,eAAM,cAAI,EAGhB,KAAM,CAAC,SAAU,OAAQ,SAAU,UAAW,MAAM,EAGpD,SAAU,SAASM,EAAMC,EAAK,CAC5B,IAAIC,EAAQF,EAAK,aAAeA,EAAK,aAAe,OAAO,iBAAiBA,EAAM,IAAI,EACtF,OAAOE,EAAMA,EAAM,iBAAmB,mBAAqB,cAAc,EAAED,CAAI,CACjF,EAGA,KAAM,SAASE,EAAMC,EAAIC,EAAQ,CAE/B,GAAIC,EAAM,KAEV,CAAA,IAAIC,EAAO,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAC9CC,EAAO,SAAS,cAAc,MAAM,EAErC,OAAOJ,GAAO,WAAUC,EAAUD,GAErC,IAAIK,GAAOJ,GAAWF,GAAM,QAAQ,SAAU,EAAE,EAC5CO,EAAK,YAAaD,EAClBE,EAAc,WACdC,EAAU,EAEdJ,EAAK,IAAM,aACXA,EAAK,KAAOF,EAAM,KAAOH,EACzBK,EAAK,GAAKE,EAEN,SAAS,eAAeA,CAAE,GAC5BH,EAAK,YAAYC,CAAI,EAGpB,OAAOJ,GAAO,YAGhB,SAASS,EAAKC,EAAQ,CACrB,IAAIC,EAAQ,IACRC,EAAc,SAAS,eAAeN,CAAE,EAG5C,GAAG,EAAEE,EAAU,GAAK,IAAOG,EACzB,OAAO,OAAO,SAAW,QAAQ,MAAMN,EAAK,eAAe,EAI1D,SAAShB,EAAM,SAASuB,EAAa,OAAO,CAAC,IAAM,MAEjDF,IAAWH,GAAaK,EAAY,gBAAgB,YAAY,EAEnEA,EAAY,aAAa,YAAY,IAAML,EAAc,WAAWE,EAAME,CAAK,EAAIX,EAAG,IAEtFY,EAAY,aAAa,aAAcL,CAAW,EAClD,WAAW,UAAU,CACnBE,EAAKF,CAAW,CAClB,EAAGI,CAAK,EAIZ,EAAA,EAEF,CACF,EAGWT,EAAQ,CACjB,EAAG,QACH,GAAI,UAAU,CACZ,IAAIW,EAAQ,UAAU,UAAU,YAAY,EAC5C,OAAU,OAAO,eAAiB,kBAAmB,QAClDA,EAAM,MAAM,aAAa,GAAK,CAAA,GAAI,CAAC,GAAK,KACvC,EACN,EAAE,EACF,MAAQ,OAAO,OAAS,OAAO,MAAM,EAAK,IAAS,EACnD,KAAMxB,EAAM,QACZ,OAAQ,SAASyB,EAASd,EAAG,CAS3B,OARAc,EAAUA,GAAW,CAAA,EACrBZ,EAAM,MAAQb,EAAM,OAASF,EAAE,OAAO,CAAA,EAAIE,EAAM,OAAQyB,CAAO,EAC/DZ,EAAM,KAAOb,EAAM,OAAO,MAAQa,EAAM,KACxC,OAAOY,EAAQ,QAAW,WAAaA,EAAQ,OAAS,CAACA,EAAQ,MAAM,GAGpEzB,EAAM,OAAO,MAAMa,EAAM,QAExBY,EAAQ,QAGZ5B,EACI,MAAM,OAAO,iBAAmB4B,EAAQ,MAAM,EAChDzB,EAAM,KAAK,OAASyB,EAAQ,MAAM,EAE7B,MAPoB,IAQ7B,EAGA,MAAO,SAASC,EAAS,CACvB,IAAId,EAAU,QACVe,EAAM,GACNC,GAAQ/B,EAAU,WAAa,QAAU,eAAgBgB,EAAM,EAAIc,EAEvE,OAAA9B,EACE,MAAM,WAAW,EACZ,OAAO6B,GAAa,YAAcA,IACrC,MAAM,OAAOE,EAAMF,EAAUd,CAAO,EACpCZ,EAAM,KAAK4B,EAAMF,EAAUd,CAAO,EAE/B,IACT,EAGA,MAAO,SAASiB,EAASJ,EAASK,EAAI,CACpC,IAAIC,EAAO,OAAON,GAAY,WAC9B,OAAGM,IAAMD,EAAML,GACRZ,EAAM,KAAKf,EAAE,OAAO,CACzB,QAAS+B,EACT,IAAKC,CACP,EAAGC,EAAO,CAAC,EAAIN,CAAO,CAAC,CACzB,EAEA,QAAS,SAASI,EAASJ,EAASK,EAAKE,EAAO,CAC9C,IAAID,EAAO,OAAON,GAAY,WAC9B,OAAGM,IACDC,EAASF,EACTA,EAAML,GAEDZ,EAAM,KAAKf,EAAE,OAAO,CACzB,QAAS+B,EACT,IAAK7B,EAAM,IACX,IAAK8B,EACL,KAAME,CACR,EAAGD,EAAO,GAAKN,CAAO,CAAC,CACzB,EAEA,IAAK,SAASI,EAASJ,EAASQ,EAAI,CAClC,IAAIF,EAAO,OAAON,GAAY,WAAYS,EAAQlC,EAAM,OAAO,KAC3DmC,GAAQD,EAAQA,EAAQ,IAAMA,EAAQ,OAAS,KAAK,kBACpDE,EAAOC,EAAK,KAAK,OAAS,EAC9B,OAAGN,IAAME,EAAMR,GACRZ,EAAM,KAAKf,EAAE,OAAO,CACzB,QAAS+B,EACT,KAAM,IACN,MAAO,GACP,KAAMM,EACN,MAAO,GACP,SAAU,GACV,IAAK,GACL,OAAQ,GACR,IAAKF,EACL,YAAa,EACf,EAAIF,GAAQ,CAAC/B,EAAM,OAAO,KAAQ,CAChC,KAAMmC,EAAO,mBACb,KAAMC,CACR,EAAI,UAAU,CACX,OAAAX,EAAUA,GAAW,CAClBA,GAAAA,EAAQ,OAAS,IAAMA,EAAQ,OAAS,QAAa,CAACzB,EAAM,OAAO,QACpEyB,EAAQ,KAAOU,EAAO,KAAOV,EAAQ,MAAM,oBAEtCA,CACV,EAAE,CAAC,CAAC,CACN,EAEA,KAAM,SAASa,EAAMb,EAAQ,CAC3B,OAAOZ,EAAM,KAAKf,EAAE,OAAO,CACzB,KAAM,EACN,KAAMwC,GAAQ,EACd,OAAQ,GACR,MAAO,IACP,YAAa,EACf,EAAGb,CAAO,CAAC,CACb,EAEA,KAAM,SAASI,EAASU,EAAQd,EAAQ,CACtC,OAAOZ,EAAM,KAAKf,EAAE,OAAO,CACzB,KAAM,EACN,QAAS,CAAC+B,EAASU,CAAM,EACzB,SAAU,GACV,KAAM,IACN,MAAO,GACP,OAAQ,GACR,MAAO,GACP,SAAU,IACV,YAAa,EACf,EAAGd,CAAO,CAAC,CACb,CACF,EAEIe,EAAQ,SAASC,EAAQ,CAC3B,IAAIC,EAAO,KAAMC,EAAQ,UAAU,CACjCD,EAAK,MAAM,CACb,EACAA,EAAK,MAAQ,EAAE7B,EAAM,MACrB6B,EAAK,OAAO,SAAW5C,EAAEC,CAAG,EAAE,MAAM,EAAI,GAAG,EAC3C2C,EAAK,OAAS5C,EAAE,OAAO,GAAI4C,EAAK,OAAQ1C,EAAM,OAAQyC,CAAO,EAC7D,SAAS,KAAOE,EAAM,EAAI,WAAW,UAAU,CAC7CA,GACF,EAAG,EAAE,CACP,EAEAH,EAAM,GAAKA,EAAM,UAGjB,IAAIH,EAAO,CAAC,cAAe,qBAAsB,oBAAqB,sBAAuB,qBAAsB,sBAAuB,kBAAmB,mBAAmB,EAGhLA,EAAK,KAAO,CAEV,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBAGH,UAAW,wBACX,UAAW,wBACX,QAAS,sBACT,WAAY,wBACd,EAEAA,EAAK,MAAQ,oBACbA,EAAK,KAAO,mBAEZ,IAAIO,EAAY,wBACZC,EAAoB,oCAGxBL,EAAM,GAAG,OAAS,CAChB,KAAM,EACN,MAAO,GACP,MAAO,GACP,KAAMH,EAAK,CAAC,EACZ,MAAO,eACP,OAAQ,OACR,KAAM,OACN,SAAU,EACV,KAAM,GACN,KAAM,EACN,OAAQ,SACR,SAAU,IACV,KAAM,EACN,UAAW,GACX,SAAU,GACV,SAAU,EACV,OAAQ,GACR,UAAW,GACX,KAAM,CACR,EAGAG,EAAM,GAAG,OAAS,SAASM,EAASpB,EAAS,CAC3C,IAAIgB,EAAO,KAAMK,EAAQL,EAAK,MAAOM,EAASN,EAAK,OAC/CO,EAASD,EAAO,OAASD,EAAOG,EAAS,OAAOF,EAAO,OAAU,SACjEG,EAAQH,EAAO,SAAWA,EAAO,OAAS,GAAKA,EAAO,OAAS,GAC/DI,EAAaJ,EAAO,MAAQ,0CAA2CE,EAASF,EAAO,MAAM,CAAC,EAAI,IAAK,MACtGE,EAASF,EAAO,MAAM,CAAC,EAAIA,EAAO,OACrC,SAAW,GAEb,OAAAA,EAAO,OAASC,EAChBvB,EAAS,CAEPsB,EAAO,MAAS,eAAgBX,EAAK,MAAO,SAAUA,EAAK,MAAQU,EAAO,YAAaA,EAAO,aAAc,YAAaE,EAAO,GAAI,MAAO,WAAc,GAGzJ,eAAgBZ,EAAK,CAAC,GAAK,gBAAgBrC,EAAM,KAAKgD,EAAO,IAAI,KAAQA,EAAO,MAAQ,GAAKA,EAAO,MAAQ,IAAM,CAACA,EAAO,MAAS,sBAAwB,IAAM,KAAOA,EAAO,MAAM,IAAK,SAAUX,EAAK,CAAC,EAAIU,EAAO,WAAY/C,EAAM,KAAKgD,EAAO,IAAI,EAAG,YAAaD,EAAO,eAAgBC,EAAO,KAAM,eAAgBF,EAAU,SAAW,UAAW,qBAAsBG,EAAQ,WAAYD,EAAO,KAAK,CAAC,EAAI,WAAaA,EAAO,KAAK,CAAC,EAAI,cAAeA,EAAO,MAAQ,SAAW,aAAc,MACteF,GAAWE,EAAO,MAAQ,EAAI,GAAKI,GAGpC,QAASJ,EAAO,GAAK,QAASA,EAAO,GAAI,IAAM,IAAK,+BAAiCA,EAAO,MAAQ,GAAKA,EAAO,OAAS,GAAM,uBAAyB,KAAOA,EAAO,MAAQ,EAAI,uBAAuBA,EAAO,KAAO,IAAK,KAE1N,UAAU,CACV,IAAIK,EAAO,CACT,kBACA,qBACA,mBACA,sBACA,kBACA,sBACA,uBACF,EAEIC,EAGAC,EAAY,+CAGhB,GAAGP,EAAO,MAAQ,GAAKA,EAAO,OAAS,GAErC,OAAGA,EAAO,MAAQ,KAChBM,EAAiB,iCAAkCC,GAE9C,0CACLD,GAAkBD,EAAKL,EAAO,IAAI,GAAKK,EAAK,CAAC,GAC5C,SAIL,GAAGL,EAAO,MAAQ,EAAE,CAClB,IAAIjB,EAAO,CACT,qBACA,sBACF,EAEA,OAAGiB,EAAO,MAAQ,EACT,qCAAsCO,EAAW,WAEnD,kDACLxB,EAAKiB,EAAO,IAAI,GAAKjB,EAAK,CAAC,GAC3B,IAAKwB,EAAW,SAGpB,MAAO,EACT,EACGP,GAAAA,EAAO,MAAQ,GAAKF,EAAU,GAAME,EAAO,SAAS,IACvD,yCAGoC,UAAU,CAC9C,IAAIQ,EAAM,CAAC,EAGX,OAAGL,IACDK,EAAI,KAAK,uCAAuC,EAChDA,EAAI,KAAK,uCAAuC,GAI/CR,EAAO,UACRQ,EAAI,KAAK,4CAA6C,CACpDnB,EAAK,CAAC,EACNA,EAAK,CAAC,GAAKW,EAAO,MAAQA,EAAO,SAAYA,EAAO,MAAQ,EAAI,IAAM,IACxE,EAAE,KAAK,GAAG,EAAG,WAAW,EAGnBQ,EAAI,KAAK,EAAE,CACpB,EAAE,EAAI,UAGHR,EAAO,IAAM,UAAU,CACxB,IAAIS,EAAS,GACb,OAAOT,EAAO,KAAQ,WAAaA,EAAO,IAAM,CAACA,EAAO,GAAG,GAC3D,QAAQ3C,EAAI,EAAGqD,EAAMV,EAAO,IAAI,OAAQ3C,EAAIqD,EAAKrD,IAC/CoD,GAAU,aAAcpB,EAAK,CAAC,EAAOhC,EAAG,KAAM2C,EAAO,IAAI3C,CAAC,EAAG,OAE/D,MAAO,eAAgB,UAAU,CAC/B,IAAIsD,EAAY,CAACtB,EAAK,CAAC,CAAC,EACxB,OAAGW,EAAO,UAAUW,EAAU,KAAKtB,EAAK,CAAC,EAAI,IAAMW,EAAO,QAAQ,EAC3DW,EAAU,KAAK,GAAG,CAC3B,IAAK,KAAMF,EAAQ,QACrB,EAAE,EAAI,KACHT,EAAO,OAAS,2CAA6C,IAChE,QACJ,EAAGI,EAAWtD,EAAE,eAAgBuC,EAAK,KAAM,SAAUA,EAAK,KAAM,UAAU,CAAC,EACpEK,CACT,EAGAF,EAAM,GAAG,MAAQ,UAAU,CACzB,IAAIE,EAAO,KACPM,EAASN,EAAK,OACdK,EAAQL,EAAK,MACbb,EAAUmB,EAAO,QACjBF,EAAU,OAAOjB,GAAY,SAC7B+B,EAAO9D,EAAE,MAAM,EAEf+D,EAAU,SAASC,EAAO,CAO5B,GALGd,EAAO,QACRA,EAAO,KAAOA,EAAO,OAIpBX,EAAK,KAAKW,EAAO,IAAI,EAAE,CACxB,IAAIO,EAAY,cAAelB,EAAK,KAAKW,EAAO,IAAI,EACpDc,EAAO,SAASP,CAAS,EAAE,IAAI,+EAAgF,UAAU,CACvHzD,EAAE,IAAI,EAAE,YAAYyD,CAAS,CAC/B,CAAC,EAEL,EAGA,GAAGP,EAAO,IAAMlD,EAAE,IAAKuC,EAAK,CAAC,CAAC,EAAE,KAAK,IAAKW,EAAO,EAAE,EAAE,CAAC,EACpD,OAAQ,UAAU,CAChB,IAAIc,EAAShE,EAAE,IAAKkD,EAAO,EAAE,EAAE,QAAQ,IAAKX,EAAK,CAAC,CAAC,EAC/C0B,EAAQD,EAAO,KAAK,OAAO,EAC3BrC,EAAUqC,EAAO,KAAK,QAAQ,EAC9BE,EAAYlE,EAAE,IAAKuC,EAAK,MAAQ0B,CAAK,EAErCE,EAAeH,EAAO,KAAK,cAAc,GAAK,CAE/CG,EAAAA,IAAiB,MAClBpD,EAAM,QAAQkD,CAAK,EACXtC,EAAQ,cAChBuC,EAAU,OACVF,EAAO,KAAK,EACZD,EAAQC,CAAM,EACd,WAAW,UAAU,CACnBE,EAAU,IAAI,CAAC,QAASA,EAAU,KAAKpB,CAAS,CAAC,CAAC,CACpD,EAAG,EAAE,EAET,IAiBF,OAbGI,EAAO,aAAe,SAAS,eAChC,SAAS,cAAc,OAItB,OAAOA,EAAO,MAAS,WACxBA,EAAO,KAAOA,EAAO,OAAS,OAAS,CAAC,GAAI,EAAE,EAAI,CAACA,EAAO,KAAM,EAAE,GAGjEnC,EAAM,IAAM,IACbmC,EAAO,MAAQ,IAGVA,EAAO,KAAA,CACZ,IAAK,GACHA,EAAO,IAAO,QAASA,EAAUA,EAAO,IAAMhD,EAAM,IAAI,CAAC,EACzDa,EAAM,SAAS,QAAQ,EACzB,MACA,OACE,IAAIgB,EAAUmB,EAAO,QAAUF,EAAUE,EAAO,QAAU,CAACA,EAAO,SAAS,GAAI,MAAM,EACrFA,EAAO,QAAU,uBAAwBA,EAAO,QAAQ,CAAC,GAAG,QAAS,kCAAmCX,EAAK,CAAC,EAAOU,EAAO,WAAYV,EAAK,CAAC,EAAOU,EAAO,iFAAmFC,EAAO,QAAQ,CAAC,EAAI,cACrQ,MACA,IAAK,GACH,OAAOA,EAAO,MACd,OAAOA,EAAO,SACdA,EAAO,OAAS,IAAOA,EAAO,KAC9BnC,EAAM,SAAS,SAAS,EAC1B,MACA,IAAK,GACHiC,IAAYE,EAAO,QAAU,CAACA,EAAO,QAAS,MAAM,GACpDA,EAAO,OAASA,EAAO,QAAQ,CAAC,EAChCA,EAAO,QAAUA,EAAO,QAAQ,CAAC,EAAI,oCACrC,OAAOA,EAAO,MACdA,EAAO,KAAO,OAAOA,EAAO,MAAS,SAAWA,EAAO,KAAO,CAACA,EAAO,KAAM,EAAI,EAChFA,EAAO,UAAYnC,EAAM,SAAS,MAAM,EAC1C,KACF,CAGA6B,EAAK,OAAOI,EAAS,SAASoB,EAAMd,EAAWe,EAAS,CACtDP,EAAK,OAAOM,EAAK,CAAC,CAAC,EACnBpB,EAAU,UAAU,CACjBE,EAAO,MAAQ,GAAKA,EAAO,MAAQ,EAAK,UAAU,CACjDlD,EAAE,MAAM,EAAE,OAAOoE,EAAK,CAAC,CAAC,CAC1B,EAAE,EAAI,UAAU,CACVrC,EAAQ,QAAQ,IAAIQ,EAAK,CAAC,CAAC,EAAE,CAAC,IAChCR,EAAQ,KAAK,UAAWA,EAAQ,IAAI,SAAS,CAAC,EAAE,OAAO,SAAS,kBAAkB,EAAE,KAAKqC,EAAK,CAAC,CAAC,EAChGpE,EAAE,IAAKuC,EAAK,CAAC,EAAIU,CAAK,EAAE,KAAK,IAAIV,EAAK,CAAC,CAAC,EAAE,OAAOe,CAAS,EAE9D,EAAA,CACF,EAAE,EAAIQ,EAAK,OAAOM,EAAK,CAAC,CAAC,EACzBpE,EAAE,IAAKuC,EAAK,IAAI,EAAE,CAAC,GAAKuB,EAAK,OAAO5D,EAAM,SAAWmE,CAAQ,EAE7DzB,EAAK,OAAS5C,EAAE,IAAKuC,EAAK,CAAC,EAAIU,CAAK,EACpCL,EAAK,OAAS5C,EAAE,IAAKuC,EAAK,MAAQU,CAAK,EAEvCC,EAAO,WAAahD,EAAM,aAAa+C,CAAK,CAC9C,CAAC,EAAE,KAAKA,CAAK,EAGbL,EAAK,OAAO,IAAI,CACd,mBAAoBM,EAAO,MAAM,CAAC,GAAK,OACtC,QAAWA,EAAO,MAAM,CAAC,GAAKA,EAAO,MACrC,WAAcA,EAAO,MAAM,CAAC,GAAK,EACpC,CAAC,EACDN,EAAK,OAAO,KAAKE,EAAWI,EAAO,MAAM,CAAC,GAAKA,EAAO,KAAK,EAE3DA,EAAO,MAAQ,GAAKnC,EAAM,IAAM,GAAK6B,EAAK,OAAO,KAAK,QAAQ,EAAE,KAAK,MAAOb,EAAQ,CAAC,CAAC,EAGtFmB,EAAO,MAAQ,EAAIN,EAAK,KAAA,EAAS,UAAU,CACzCA,EAAK,SAEL,SAAS1C,EAAM,SAAS,SAAS,eAAeqC,EAAK,IAAI,EAAG,SAAS,CAAC,GAAM,UAAU,CACpFK,EAAK,OAAO,IAAI,aAAc,QAAQ,EACtC7B,EAAM,MAAM,UAAU,CACpB6B,EAAK,OAAO,EACZA,EAAK,OAAO,IAAI,aAAc,SAAS,CACzC,CAAC,CACH,EAAA,CACF,IAGGM,EAAO,QACJhD,EAAM,OAAO,OAAO0C,EAAK,KAAK,IAChC1C,EAAM,OAAO,OAAO0C,EAAK,KAAK,EAAI,UAAU,CAC1CA,EAAK,OAAO,CACd,EAEA3C,EAAI,GAAG,SAAUC,EAAM,OAAO,OAAO0C,EAAK,KAAK,CAAC,IAIpDM,EAAO,MAAQ,GAAK,WAAW,UAAU,CACvCnC,EAAM,MAAM6B,EAAK,KAAK,CACxB,EAAGM,EAAO,IAAI,EACdN,EAAK,KAAO,EAAA,SACZmB,EAAAA,EAAQnB,EAAK,MAAM,EAGnBA,EAAK,OAAO,KAAK,SAAUM,CAAM,CACnC,EAGAR,EAAM,GAAG,OAAS,UAAU,CAC1B,IAAIE,EAAO,KACPM,EAASN,EAAK,OAElBA,EAAK,UACJ,SAAS,KAAKM,EAAO,KAAK,CAAC,CAAC,GAAK,SAAS,KAAKA,EAAO,KAAK,CAAC,CAAC,IAAMN,EAAK,KAAKA,EAAK,KAAK,EACxFM,EAAO,MAAQ,GAAKN,EAAK,KAC3B,CAAA,EAGAF,EAAM,GAAG,KAAO,SAASuB,EAAM,CAC7B,IAAIrB,EAAO,KAAMM,EAASN,EAAK,OAAQoB,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAEnEf,EAAO,KAAK,CAAC,IAAM,IAAMA,EAAO,SAAW,IAEzCnC,EAAM,IAAMA,EAAM,GAAK,GAAKmC,EAAO,KACpCc,EAAO,MAAMA,EAAO,WAAA,CAAY,EAElCA,EAAO,aAAed,EAAO,UAAYc,EAAO,MAAMd,EAAO,QAAQ,GAGvE,IAAIoB,EAAO,CAACN,EAAO,WAAW,EAAGA,EAAO,YAAa,CAAA,EACjDO,EAAYP,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,eAAiB,EAClDiC,EAAYR,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,YAAiB,GAAA,EACtDkC,EAAY,SAASC,EAAK,CAC5BA,EAAOV,EAAO,KAAKU,CAAI,EACvBA,EAAK,OAAOJ,EAAK,CAAC,EAAIC,EAAYC,EAAY,GAAG,WAAWE,EAAK,IAAI,aAAa,CAAC,EAAE,EAAE,CACzF,EAEA,OAAOxB,EAAO,KACZ,CAAA,IACEuB,GAAAA,EAAU,QAAQ,EACpB,MACA,QACKvB,EAAO,KAAK,CAAC,IAAM,GACjBA,EAAO,UAAY,GAAKc,EAAO,YAAY,EAAId,EAAO,WACvDoB,EAAK,CAAC,EAAIpB,EAAO,UACjBuB,EAAU,IAAIlC,EAAK,CAAC,CAAC,GACbW,EAAO,OAASoB,EAAK,CAAC,GAAKrE,EAAI,WACvCqE,EAAK,CAAC,EAAIrE,EAAI,OAAO,EACrBwE,EAAU,IAAIlC,EAAK,CAAC,CAAC,GAGvBkC,EAAU,IAAIlC,EAAK,CAAC,CAAC,EAEzB,KACF,CAEA,OAAOK,CACT,EAGAF,EAAM,GAAG,OAAS,UAAU,CAC1B,IAAIE,EAAO,KAAMM,EAASN,EAAK,OAAQoB,EAASpB,EAAK,OACjD0B,EAAO,CAACN,EAAO,aAAcA,EAAO,YAAA,CAAa,EACjD/B,EAAO,OAAOiB,EAAO,QAAW,SACpCN,EAAK,WAAa3C,EAAI,SAAWqE,EAAK,CAAC,GAAG,EAC1C1B,EAAK,YAAc3C,EAAI,MAAUqE,EAAAA,EAAK,CAAC,GAAG,EAEvCrC,GACDW,EAAK,UAAYM,EAAO,OAAO,CAAC,EAChCN,EAAK,WAAaM,EAAO,OAAO,CAAC,GAAGN,EAAK,YACjCM,EAAO,SAAW,SAEvBA,EAAO,SAAW,IACnBN,EAAK,UAAY,EACTM,EAAO,SAAW,IAC1BN,EAAK,WAAa3C,EAAI,MAAUqE,EAAAA,EAAK,CAAC,EAC9BpB,EAAO,SAAW,IAC1BN,EAAK,UAAY3C,EAAI,OAAWqE,EAAAA,EAAK,CAAC,EAC9BpB,EAAO,SAAW,IAC1BN,EAAK,WAAa,EACVM,EAAO,SAAW,MAC1BN,EAAK,UAAY,EACjBA,EAAK,WAAa,GACVM,EAAO,SAAW,MAC1BN,EAAK,UAAY3C,EAAI,OAAO,EAAIqE,EAAK,CAAC,EACtC1B,EAAK,WAAa,GACVM,EAAO,SAAW,MAC1BN,EAAK,UAAY,EACjBA,EAAK,WAAa3C,EAAI,MAAM,EAAIqE,EAAK,CAAC,GAC9BpB,EAAO,SAAW,MAC1BN,EAAK,UAAY3C,EAAI,OAAO,EAAIqE,EAAK,CAAC,EACtC1B,EAAK,WAAa3C,EAAI,QAAUqE,EAAK,CAAC,GAEtC1B,EAAK,UAAYM,EAAO,QAKxBA,EAAO,QACTN,EAAK,UAAY,KAAK,KAAKA,EAAK,SAAS,EACvC3C,EAAI,OAAO,EAAE,WAAW2C,EAAK,SAAS,EAAE,IACxC,WAAWA,EAAK,SAAS,EAC3BA,EAAK,WAAa,KAAK,KAAKA,EAAK,UAAU,EACzC3C,EAAI,QAAQ,WAAW2C,EAAK,UAAU,EAAE,IACxC,WAAWA,EAAK,UAAU,EAC5BA,EAAK,WAAa3C,EAAI,UAAA,EACtB2C,EAAK,YAAc3C,EAAI,cAItB+D,EAAO,KAAK,cAAc,IAAM,QACjCpB,EAAK,UAAY3C,EAAI,OAAY+D,GAAAA,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,YAAY,GAAK,GACvEK,EAAK,WAAaoB,EAAO,IAAI,MAAM,GAIrCA,EAAO,IAAI,CACT,IAAKpB,EAAK,UACV,KAAMA,EAAK,UACb,CAAC,CACH,EAGAF,EAAM,GAAG,KAAO,UAAU,CACxB,IAAIE,EAAO,KAAMM,EAASN,EAAK,OAAQoB,EAASpB,EAAK,OACjD+B,EAAU,CAACX,EAAO,aAAcA,EAAO,YAAA,CAAa,EAAGvB,EAASzC,EAAEkD,EAAO,MAAM,EAC/ET,EAAO,CAAC,IAAGA,EAASzC,EAAE,MAAM,GAChC,IAAI4E,EAAO,CACT,MAAOnC,EAAO,aACd,OAAQA,EAAO,YAAY,EAC3B,IAAKA,EAAO,SAAS,IACrB,KAAMA,EAAO,SAAS,IACxB,EAAGoC,EAAQb,EAAO,KAAK,oBAAoB,EAEvCc,EAAQ5B,EAAO,KAAK,CAAC,EACzBA,EAAO,KAAK,CAAC,GAAK2B,EAAM,OAAA,EAExBD,EAAK,SAAW,UAAU,CACrBA,EAAK,KAAOD,EAAQ,CAAC,EAAI1E,EAAI,MAAM,EAAI,GACxC2E,EAAK,QAAUA,EAAK,KAAOA,EAAK,MAAQD,EAAQ,CAAC,EACjDE,EAAM,IAAI,CAAC,MAAO,GAAI,KAAM,MAAM,CAAC,GAEnCD,EAAK,QAAUA,EAAK,IAExB,EAIAA,EAAK,MAAQ,CAAC,UAAU,CACtBA,EAAK,WACLA,EAAK,OAASA,EAAK,IAAMD,EAAQ,CAAC,EAAI,GACtCE,EAAM,YAAY,mBAAmB,EAAE,SAAS,mBAAmB,EAAE,IAAI,qBAAsB3B,EAAO,KAAK,CAAC,CAAC,CAC/G,EAAG,UAAU,CACX0B,EAAK,QAAUA,EAAK,KAAOA,EAAK,MAAQ,GACxCA,EAAK,OAASA,EAAK,KAAOA,EAAK,OAAS,IAAO,GAAK,GAAKA,EAAK,OAAS,GAAM,GAC7EA,EAAK,OAAS,KAAK,IAAIA,EAAK,OAAQ,CAAC,EACrCC,EAAM,YAAY,mBAAmB,EAAE,SAAS,mBAAmB,EAAE,IAAI,sBAAuB3B,EAAO,KAAK,CAAC,CAAC,CAChH,EAAG,UAAU,CACX0B,EAAK,SAAS,EACdA,EAAK,OAASA,EAAK,IAAMA,EAAK,OAAS,GACvCC,EAAM,YAAY,mBAAmB,EAAE,SAAS,mBAAmB,EAAE,IAAI,qBAAsB3B,EAAO,KAAK,CAAC,CAAC,CAC/G,EAAG,UAAU,CACX0B,EAAK,QAAUA,EAAK,KAAOD,EAAQ,CAAC,EAAI,GACxCC,EAAK,OAASA,EAAK,KAAOA,EAAK,OAAS,IAAO,GAAK,GAAKA,EAAK,OAAS,GAAM,GAC7EA,EAAK,OAAS,KAAK,IAAIA,EAAK,OAAQ,CAAC,EACrCC,EAAM,YAAY,mBAAmB,EAAE,SAAS,mBAAmB,EAAE,IAAI,sBAAuB3B,EAAO,KAAK,CAAC,CAAC,CAChH,CAAC,EACD0B,EAAK,MAAME,EAAM,CAAC,IAGfA,IAAU,EACXF,EAAK,KAAO3E,EAAI,UAAU,EAAI0E,EAAQ,CAAC,EAAI,EAAE,GAAK,GAAKC,EAAK,MAAM,CAAC,IAC3DE,IAAU,EAClB7E,EAAI,MAAM,GAAK2E,EAAK,KAAOA,EAAK,MAAQD,EAAQ,CAAC,EAAI,EAAE,GAAK,GAAKC,EAAK,MAAM,CAAC,IACrEE,IAAU,EACjBF,EAAK,IAAM3E,EAAI,UAAU,EAAI2E,EAAK,OAASD,EAAQ,CAAC,EAAI,EAAE,EAAK1E,EAAI,OAAO,EAAI,GAAK2E,EAAK,MAAM,CAAC,IACxFE,IAAU,GACjBH,EAAQ,CAAC,EAAI,EAAE,EAAIC,EAAK,KAAO,GAAKA,EAAK,MAAM,CAAC,EAAE,EAGrDZ,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,IAAI,CAC3B,mBAAoBW,EAAO,KAAK,CAAC,EACjC,gBAAkBA,EAAO,SAAW,OAAS,EAC/C,CAAC,EACDc,EAAO,IAAI,CACT,KAAMY,EAAK,SAAW1B,EAAO,MAAQjD,EAAI,aAAe,GACxD,IAAK2E,EAAK,QAAW1B,EAAO,MAAQjD,EAAI,UAAA,EAAc,EACxD,CAAC,CACH,EAGAyC,EAAM,GAAG,KAAO,UAAU,CACxB,IAAIE,EAAO,KACPM,EAASN,EAAK,OACdmC,EAAO/E,EAAE,QAAQ,EACjBgE,EAASpB,EAAK,OACdoC,EAAY,CAAC,gBAAiB,iBAAiB,EAC/CX,EAAWL,EAAO,KAAKd,EAAO,IAAI,EAClC+B,EAAajB,EAAO,KAAK,qBAAqB,EAmDlD,OAhDGd,EAAO,MAAMmB,EAAS,IAAI,SAAU,MAAM,EAG7CA,EAAS,GAAG,YAAa,SAASa,EAAE,CAClC,GAAI,CAAAA,EAAE,OACN,CAAA,IAAIC,EAAQnF,EAAE,IAAI,EACdoF,EAAO,GAERlC,EAAO,OACRkC,EAAK,OAASpB,EACdoB,EAAK,OAASlC,EACdkC,EAAK,OAAS,CACZF,EAAE,QAAU,WAAWlB,EAAO,IAAI,MAAM,CAAC,EACzCkB,EAAE,QAAU,WAAWlB,EAAO,IAAI,KAAK,CAAC,CAC1C,EAEAmB,EAAM,KAAKH,EAAU,CAAC,EAAGI,CAAI,EAC7BlF,EAAM,cAAgBiF,EACtBjF,EAAM,SAAS,IAAI,SAAU,MAAM,EAAE,KAGvCgF,GAAAA,EAAE,eAAe,EACnB,CAAC,EAGDD,EAAW,GAAG,YAAa,SAASC,EAAE,CACpC,IAAIC,EAAQnF,EAAE,IAAI,EACdoF,EAAO,CAAA,EAERlC,EAAO,SACRkC,EAAK,OAASpB,EACdoB,EAAK,OAASlC,EACdkC,EAAK,OAAS,CAACF,EAAE,QAASA,EAAE,OAAO,EACnCE,EAAK,MAAQxC,EAAK,MAClBwC,EAAK,KAAO,CACVpB,EAAO,aACNA,EAAO,YAAA,CACV,EAEAmB,EAAM,KAAKH,EAAU,CAAC,EAAGI,CAAI,EAC7BlF,EAAM,gBAAkBiF,EACxBjF,EAAM,SAAS,IAAI,SAAU,WAAW,EAAE,QAG5CgF,EAAE,gBACJ,CAAC,EAGEhF,EAAM,WACT6E,EAAK,GAAG,YAAa,SAASG,EAAE,CAE9B,GAAGhF,EAAM,cAAc,CACrB,IAAIkF,EAAOlF,EAAM,cAAc,KAAK8E,EAAU,CAAC,CAAC,GAAK,CAAA,EACpDhB,EAASoB,EAAK,OACdlC,EAASkC,EAAK,OAEXC,EAAIH,EAAE,QAAUE,EAAK,OAAO,CAAC,EAC7BE,EAAIJ,EAAE,QAAUE,EAAK,OAAO,CAAC,EAC7BG,EAAQvB,EAAO,IAAI,UAAU,IAAM,QAQvC,GANAkB,EAAE,eAEFE,EAAAA,EAAK,IAAMG,EAAQ,EAAItF,EAAI,aAC3BmF,EAAK,IAAMG,EAAQ,EAAItF,EAAI,UAAU,EAGlC,CAACiD,EAAO,QAAQ,CACjB,IAAIsC,EAASvF,EAAI,QAAU+D,EAAO,aAAeoB,EAAK,IAClDK,EAASxF,EAAI,SAAW+D,EAAO,YAAgBoB,EAAAA,EAAK,IACxDC,EAAID,EAAK,MAAQC,EAAID,EAAK,KAC1BC,EAAIG,IAAWH,EAAIG,GACnBF,EAAIF,EAAK,MAAQE,EAAIF,EAAK,KAC1BE,EAAIG,IAAWH,EAAIG,GAIrBzB,EAAO,IAAI,CACT,KAAMqB,EACN,IAAKC,CACP,CAAC,EAIH,GAAGpF,EAAM,gBAAgB,CACvB,IAAIkF,EAAOlF,EAAM,gBAAgB,KAAK8E,EAAU,CAAC,CAAC,GAAK,CAAA,EACnD9B,EAASkC,EAAK,OAEdC,EAAIH,EAAE,QAAUE,EAAK,OAAO,CAAC,EAC7BE,EAAIJ,EAAE,QAAUE,EAAK,OAAO,CAAC,EAEjCF,EAAE,eAGF,EAAAnE,EAAM,MAAMqE,EAAK,MAAO,CACtB,MAAOA,EAAK,KAAK,CAAC,EAAIC,EACrB,OAAQD,EAAK,KAAK,CAAC,EAAIE,CAC1B,CAAC,EAEDpC,EAAO,UAAYA,EAAO,SAASkC,EAAK,MAAM,EAElD,CAAC,EAAE,GAAG,UAAW,SAASF,EAAE,CAC1B,GAAGhF,EAAM,cAAc,CACrB,IAAIkF,EAAOlF,EAAM,cAAc,KAAK8E,EAAU,CAAC,CAAC,GAAK,CAAA,EACjD9B,EAASkC,EAAK,OAElBlF,EAAM,cAAc,WAAW8E,EAAU,CAAC,CAAC,EAC3C,OAAO9E,EAAM,cACbA,EAAM,SAAS,KAAA,EACfgD,EAAO,SAAWA,EAAO,QAAQkC,EAAK,MAAM,EAE3ClF,EAAM,kBACPA,EAAM,gBAAgB,WAAW8E,EAAU,CAAC,CAAC,EAC7C,OAAO9E,EAAM,gBACbA,EAAM,SAAS,OAEnB,CAAC,EAEDA,EAAM,SAAW,IACV0C,CACT,EAEAF,EAAM,GAAG,WAAa,SAASgD,EAASC,EAAU,CAChD,GAAGA,EAAU,CACX,IAAIC,EAAa,0HACjB,GAAGF,EAAQ,KAAK,+BAA+B,EAAE,CAAC,EAAG,OACrDA,EAAQ,SAAS,4BAA4B,EAAE,KAAK,CAAC,SAAU,EAAE,CAAC,EAAE,QAAQE,CAAU,OAEtFF,EAAQ,YAAY,4BAA4B,EAAE,WAAW,UAAU,EAAE,KAAK,+BAA+B,EAAE,OAEnH,CAAA,EAEAhD,EAAM,GAAG,SAAW,UAAU,CAC5B,IAAIE,EAAO,KAAMoB,EAASpB,EAAK,OAAQM,EAASN,EAAK,OACrDA,EAAK,YACFM,EAAO,UACLA,EAAO,MAAQ,EAChBc,EAAO,KAAK,QAAQ,EAAE,GAAG,OAAQ,UAAU,CACzCd,EAAO,QAAQc,EAAQpB,EAAK,MAAOA,CAAI,CACzC,CAAC,EAEDM,EAAO,QAAQc,EAAQpB,EAAK,MAAOA,CAAI,GAG3C7B,EAAM,IAAM,GAAK6B,EAAK,IAAIoB,CAAM,EAGhCA,EAAO,KAAK,IAAKzB,EAAK,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,GAAG,QAAS,UAAU,CAC5D,IAAImD,EAAU1F,EAAE,IAAI,EAChBiE,EAAQyB,EAAQ,MAAM,EAC1B,GAAG,CAAAA,EAAQ,KAAK,UAAU,EAG1B,GAAGxC,EAAO,SAAS,CACjB,IAAI2C,EAAc5B,IAAU,EAAKf,EAAO,KAAOA,EAAO,KAAWA,EAAO,OAAOe,EAAM,EAAE,EACvFrB,EAAK,QAAU,SAAS+C,EAAU,CAChC/C,EAAK,WAAW8C,EAASC,CAAS,CACpC,EAEGE,EACD3F,EAAM,mBAAmB2F,EAAY,KAAK3C,EAAQN,EAAK,MAAOoB,EAAQpB,CAAI,CAAC,EACxE,KAAK,SAASkD,EAAO,CACjBA,IAAW,IACZ/E,EAAM,MAAM6B,EAAK,KAAK,CAE1B,EAAG,SAASmD,EAAO,CAChBA,IAAW,QAAa,OAAO,SAAW,OAAO,QAAQ,MAAM,qBAAuBA,CAAM,CAC/F,CAAC,EAEHhF,EAAM,MAAM6B,EAAK,KAAK,UAGrBqB,IAAU,EACRf,EAAO,IACRA,EAAO,IAAIN,EAAK,MAAOoB,EAAQpB,CAAI,EAC3BM,EAAO,KACfA,EAAO,KAAQN,EAAK,MAAOoB,EAAQpB,CAAI,EAEvC7B,EAAM,MAAM6B,EAAK,KAAK,MAEnB,CACL,IAAIoD,EAAQ9C,EAAO,OAAOe,EAAM,EAAE,GAAKf,EAAO,OAAOe,EAAM,EAAE,EAAErB,EAAK,MAAOoB,EAAQpB,CAAI,EACvFoD,IAAU,IAASjF,EAAM,MAAM6B,EAAK,KAAK,EAG/C,CAAC,EAGD,SAASV,GAAQ,CACf,IAAI8D,EAAQ9C,EAAO,QAAUA,EAAO,OAAON,EAAK,MAAOoB,EAAQpB,CAAI,EACnEoD,IAAU,IAASjF,EAAM,MAAM6B,EAAK,KAAK,CAC3C,CAGAoB,EAAO,KAAK,IAAKzB,EAAK,CAAC,CAAC,EAAE,GAAG,QAASL,CAAM,EAGzCgB,EAAO,YACRN,EAAK,OAAO,GAAG,QAAS,UAAU,CAChC7B,EAAM,MAAM6B,EAAK,KAAK,CACxB,CAAC,EAIHoB,EAAO,KAAK,kBAAkB,EAAE,GAAG,QAAS,UAAU,CACpD,IAAIiC,EAAM/C,EAAO,KAAOA,EAAO,IAAIc,EAAQpB,EAAK,MAAOA,CAAI,EAC3DqD,IAAQ,IAASlF,EAAM,IAAI6B,EAAK,MAAOM,CAAM,CAC/C,CAAC,EAGDc,EAAO,KAAK,kBAAkB,EAAE,GAAG,QAAS,UAAU,CACjDhE,EAAE,IAAI,EAAE,SAAS,oBAAoB,GACtCe,EAAM,QAAQ6B,EAAK,KAAK,EACxBM,EAAO,SAAWA,EAAO,QAAQc,EAAQpB,EAAK,MAAOA,CAAI,IAEzD7B,EAAM,KAAK6B,EAAK,MAAOM,CAAM,EAC7B,WAAW,UAAU,CACnBA,EAAO,MAAQA,EAAO,KAAKc,EAAQpB,EAAK,MAAOA,CAAI,CACrD,EAAG,GAAG,EAEV,CAAC,EAEDM,EAAO,MAAQhD,EAAM,IAAI0C,EAAK,KAAK,EAAIM,EAAO,KAC9CA,EAAO,YAAchD,EAAM,UAAU0C,EAAK,KAAK,EAAI5C,EAAE,MAAMkD,EAAO,UAAWA,EAAQc,EAAQpB,EAAK,MAAOA,CAAI,EAC/G,EAGA1C,EAAM,SAAW,UAAU,CACzBF,EAAE,KAAKA,EAAE,QAAQ,EAAG,SAASiE,EAAQiC,EAAM,CACzC,IAAIC,EAAQnG,EAAE,IAAI,EACdmG,EAAM,QAAQ,IAAI5D,EAAK,CAAC,CAAC,EAAE,CAAC,GAC7B4D,EAAM,KAAK,OAAO,GAAK,GAAKnG,EAAE,IAAIuC,EAAK,CAAC,CAAC,EAAE,OAAS,GAAM4D,EAAM,WAAW,OAAO,EAAE,OAEvFA,EAAQ,IACV,CAAC,CACH,EAEAzD,EAAM,GAAG,IAAM,SAASsB,EAAO,CAE7BhE,EAAE,QAAQ,EAAE,KAAK,SAASiE,EAAQiC,EAAM,CACtC,IAAIC,EAAQnG,EAAE,IAAI,EACdmG,EAAM,QAAQ,IAAI5D,EAAK,CAAC,CAAC,EAAE,CAAC,GAC9B4D,EAAM,IAAI,SAAS,IAAM,QAAUA,EAAM,KAAK,CAAC,MAAU,GAAG,CAAC,EAAE,KAAK,EAEtEA,EAAQ,IACV,CAAC,CACH,EAGAzD,EAAM,GAAG,UAAY,UAAU,CAC7B,IAAIE,EAAO,KAGX7B,EAAM,OAAS6B,EAAK,OAAO,OAC3B7B,EAAM,OAAS,SAASiD,EAAO,CAC7B,IAAIoC,EAAY,UAAU,CACxBrF,EAAM,SACNiD,EAAO,IAAI,UAAWjD,EAAM,OAAS,CAAC,CACxC,EACA,OAAAA,EAAM,OAAS,SAASiD,EAAO,CAAC,EAAE,MAAM,MAAM,EAC9CA,EAAO,GAAG,YAAaoC,CAAS,EACzBrF,EAAM,MACf,CACF,EAGAb,EAAM,OAAS,SAAS8D,EAAO,CAC7B,GAAG,CAACA,EAAO,CAAC,EAAG,OAAO,OAAO,SAAW,QAAQ,MAAM,aAAa,EACnE,IAAI/B,EAAO+B,EAAO,KAAK,MAAM,EACzBqC,EAAcrC,EAAO,KAAK,sBAAsB,EAChDsC,EAA0BrE,IAAS/B,EAAM,KAAK,CAAC,EAAImG,EAAY,SAAS,QAAQ,EAAIA,EACpF/B,EAAO,CACTN,EAAO,CAAC,EAAE,MAAM,OAAS9D,EAAM,SAAS8D,EAAO,CAAC,EAAG,OAAO,EAC1DA,EAAO,CAAC,EAAE,MAAM,QAAU9D,EAAM,SAAS8D,EAAO,CAAC,EAAG,QAAQ,EAC5DA,EAAO,SAAS,EAAE,IAClBA,EAAO,WAAW,KAAO,WAAWA,EAAO,IAAI,aAAa,CAAC,CAC/D,EACAA,EAAO,KAAK,kBAAkB,EAAE,SAAS,oBAAoB,EAC7DA,EAAO,KAAK,CAAC,KAAMM,CAAI,CAAC,EACxB+B,EAAY,KAAKtD,EAAmB7C,EAAM,SAASoG,EAAwB,CAAC,EAAG,QAAQ,CAAC,CAC1F,EAGApG,EAAM,aAAe,SAAS+D,EAAM,CAClC1B,EAAK,KAAK,IAAI,WAAY,QAAQ,EAAE,KAAK,aAAc0B,CAAK,CAC9D,EAGA/D,EAAM,cAAgB,SAAS+D,EAAM,CAChC1B,EAAK,KAAK,KAAK,YAAY,GAAK0B,IACjC1B,EAAK,KAAK,CAAC,EAAE,MAAMA,EAAK,KAAK,CAAC,EAAE,MAAM,eAClC,iBACF,iBAAiB,EAAE,UAAU,EAC/BA,EAAK,KAAK,WAAW,YAAY,EAErC,EAGArC,EAAM,mBAAqB,SAASgG,EAAM,CACxC,IAAIK,EAAWvG,EAAE,SAEjB,EAAA,OAAGkG,GAAS,OAAOA,EAAM,MAAS,WAChCA,EAAM,KAAKK,EAAS,QAASA,EAAS,MAAM,EAE5CA,EAAS,QAAQL,CAAK,EAEjBK,EAAS,SAClB,EAIA,OAAO,MAAQxF,EAGfA,EAAM,cAAgB,SAASyF,EAAUvC,EAAM,CAC7C,OAAAA,EAAQA,GAASjE,EAAE,IAAIuC,EAAK,CAAC,CAAC,EAAE,KAAK,OAAO,EACrCvC,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAAE,KAAK,QAAQ,EAAE,WAAW,KAAKuC,CAAQ,CACxE,EAGAzF,EAAM,cAAgB,SAASL,EAAK,CAClC,OAAOV,EAAE,IAAKU,CAAI,EAAE,QAAQ,IAAI6B,EAAK,CAAC,CAAC,EAAE,KAAK,OAAO,CACvD,EAGAxB,EAAM,WAAa,SAASkD,EAAM,CAChC,GAAIA,EACJ,KAAIwC,EAAM1F,EAAM,cAAc,OAAQkD,CAAK,EAAE,YACzCD,EAAAA,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAC/BM,EAAYP,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,eAAiB,EAClDiC,EAAYR,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,YAAY,GAAK,EAC1DyB,EAAO,IAAI,CAAC,OAAQyC,EAAMlC,EAAYC,CAAS,CAAC,EAChDR,EAAO,KAAK,QAAQ,EAAE,IAAI,CAAC,OAAQyC,CAAG,CAAC,EACzC,EAGA1F,EAAM,UAAY,SAASkD,EAAOyC,EAAI,CACpC1G,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAAE,KAAK,QAAQ,EAAE,KAAK,MAAOyC,CAAG,CACxD,EAGA3F,EAAM,MAAQ,SAASkD,EAAOtC,EAASgF,EAAM,CAC3C,IAAI3C,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAC/BoC,EAAcrC,EAAO,KAAK,sBAAsB,EAChD/B,EAAO+B,EAAO,KAAK,MAAM,EACzBO,EAAYP,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,eAAiB,EAClDiC,EAAYR,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,YAAY,GAAK,EAC5CyB,EAAO,KAAK,SAAS,EAGhC/B,IAAS/B,EAAM,KAAK,CAAC,GAAK+B,IAAS/B,EAAM,KAAK,CAAC,IAI9CyG,IACC,WAAWhF,EAAQ,KAAK,GAAK,MAC9BA,EAAQ,MAAQ,KAGf,WAAWA,EAAQ,MAAM,EAAI4C,EAAYC,GAAa,KACvD7C,EAAQ,OAAS,GAAK4C,EAAYC,IAGtCR,EAAO,IAAIrC,CAAO,EAClB6C,EAAYR,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,eAAiB,EAEnDN,IAAS/B,EAAM,KAAK,CAAC,EACtB8D,EAAO,KAAK,QAAQ,EAAE,IAAI,CACxB,QAAS,OAAOrC,EAAQ,QAAW,SAAWA,EAAQ,OAASqC,EAAO,UAAYO,EAAYC,CAChG,CAAC,EAED6B,EAAY,IAAI,CACd,QAAS,OAAO1E,EAAQ,QAAW,SAAWA,EAAQ,OAASqC,EAAO,UAAYO,EAAYC,EAC5F,WAAW6B,EAAY,IAAI,aAAa,CAAC,EACzC,WAAWA,EAAY,IAAI,gBAAgB,CAAC,CAChD,CAAC,EAEL,EAGAtF,EAAM,IAAM,SAASkD,EAAOtC,EAAQ,CAClC,IAAIqC,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAC/BE,EAAeH,EAAO,KAAK,cAAc,EAE7C,GAAGG,IAAiB,MACpB,CAAGA,IAAiB,OAAOpD,EAAM,QAAQkD,CAAK,EAE9CD,EAAO,KAAK,eAAgB,KAAK,EACjCrC,EAAUA,GAAWqC,EAAO,KAAK,QAAQ,GAAK,CAAC,EAE/C,IAAI4C,EAAS5G,EAAE,IAAKuC,EAAK,MAAQ0B,CAAK,EAClC4C,EAAU7C,EAAO,KAAK,kBAAkB,EACxCO,EAAYP,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,eAAiB,EAClDuE,EAAU9C,EAAO,KAAK,SAAS,EAC/B+C,EAAa,OAAOD,GAAY,SAChCE,EAAOD,EAAaD,EAAW,IAAI5G,EAAM,cAAe,KACxD+G,EAAWjD,EAAO,IAAI,UAAU,EAChCkD,EAAW,IACXC,EAAW,CACb,MAAOD,EACN,OAAQ3C,EACR,SAAU,QACV,SAAU,QACb,EAEArE,EAAM,OAAO8D,CAAM,EAGhB9D,EAAM,YAAY,OAAS,IAC5B8G,EAAO9G,EAAM,YAAY,CAAC,EAC1BA,EAAM,YAAY,MAAA,GAIjB,WAAW8G,CAAI,EAAIE,EAAYjH,EAAI,UACpC+G,EAAO/G,EAAI,QAAUiH,EAAW,UAAU,CACxC,OAAAhH,EAAM,YAAY,UAAYA,EAAM,YAAY,WAAa,EACtDA,EAAM,YAAY,WAAa,CACxC,IACG8G,EAAO,IAAGA,EAAO,IAInBrF,EAAQ,WACTwF,EAAS,KAAOH,EAChBG,EAAS,IAAMlH,EAAI,OAAO,EAAIsE,EAC9BwC,GAAc7G,EAAM,gBACpB8D,EAAO,KAAK,UAAWgD,CAAI,GAG7BhD,EAAO,KAAK,WAAYiD,CAAQ,EAChClG,EAAM,MAAMkD,EAAOkD,EAAU,EAAI,EAEjCN,EAAQ,OACR7C,EAAO,KAAK,MAAM,IAAM,QAAUA,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,KACvDrC,EAAAA,EAAM,cAAc+D,CAAK,EAGzB2C,EAAO,KAAA,EACT,EAGA7F,EAAM,QAAU,SAASkD,EAAM,CAC7B,IAAID,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAC/B2C,EAAS5G,EAAE,IAAKuC,EAAK,MAAQ0B,CAAK,EAClCoC,EAAcrC,EAAO,KAAK,sBAAsB,EAChDM,EAAON,EAAO,KAAK,MAAM,EAAE,MAAM,GAAG,EACpC/B,EAAO+B,EAAO,KAAK,MAAM,EACzBrC,EAAUqC,EAAO,KAAK,QAAQ,GAAK,CACnCoD,EAAAA,EAAsBf,EAAY,KAAKtD,CAAiB,EAsB5D,GApBAiB,EAAO,WAAW,cAAc,EAGhCjD,EAAM,MAAMkD,EAAO,CACjB,MAAOK,EAAK,CAAC,EACb,OAAQA,EAAK,CAAC,EACd,IAAK,WAAWA,EAAK,CAAC,CAAC,EACvB,KAAM,WAAWA,EAAK,CAAC,CAAC,EACxB,SAAUN,EAAO,KAAK,UAAU,EAChC,SAAU,SACZ,EAAG,EAAI,EAEPA,EAAO,KAAK,kBAAkB,EAAE,YAAY,oBAAoB,EAChEA,EAAO,KAAK,kBAAkB,EAAE,OAChC/B,IAAS,QAAU+B,EAAO,KAAKzB,EAAK,CAAC,CAAC,EAAE,KAAK,EAG7CZ,EAAQ,UAAYzB,EAAM,cAAc+D,CAAK,EAAI/D,EAAM,aAAa+D,CAAK,EAGtEmD,IAAwB,OAAU,CACnCf,EAAY,WAAWtD,CAAiB,EACxC,IAAIuD,EAA0BrE,IAAS/B,EAAM,KAAK,CAAC,EAAImG,EAAY,SAAS,QAAQ,EAAIA,EACxFC,EAAwB,IAAI,CAAC,OAAQc,CAAmB,CAAC,EAI3DR,EAAO,MAET,EAGA7F,EAAM,KAAO,SAASkD,EAAM,CAC1B,IAAID,EAAShE,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAC/BE,EAAeH,EAAO,KAAK,cAAc,EAE1CG,IAAiB,QACjBA,IAAiB,OAAOpD,EAAM,QAAQkD,CAAK,EAE9CD,EAAO,KAAK,eAAgB,KAAK,EACjC9D,EAAM,OAAO8D,CAAM,EAEfzB,EAAK,KAAK,KAAK,YAAY,GAC7BrC,EAAM,aAAa+D,CAAK,EAG1B,WAAW,UAAU,CACnB,IAAIoD,EAAQrD,EAAO,IAAI,UAAU,IAAM,QACvCjD,EAAM,MAAMkD,EAAO,CACjB,IAAKoD,EAAQ,EAAIpH,EAAI,YACrB,KAAMoH,EAAQ,EAAIpH,EAAI,WAAA,EACtB,MAAO,OACP,OAAQ,MACV,EAAG,EAAI,EACP+D,EAAO,KAAK,kBAAkB,EAAE,KAAK,CACvC,EAAG,GAAG,EACR,EAGAjD,EAAM,MAAQ,SAASL,EAAMuD,EAAM,CACjC,IAAIqD,EAAQtH,EAAE,IAAKuC,EAAK,CAAC,GAAK0B,GAASlD,EAAM,MAAM,EAAE,KAAKwB,EAAK,CAAC,CAAC,EACjE+E,EAAM,KAAK5G,CAAI,CACjB,EAGAK,EAAM,MAAQ,SAASkD,EAAOrC,EAAS,CACrC,IAAIoC,EAAS,UAAU,CACrB,IAAIuD,EAAUvH,EAAE,IAAKuC,EAAK,CAAC,CAAC,EAAE,SAAS,IAAK0B,CAAK,EAAE,QAAQ,IAAK1B,EAAK,CAAC,CAAC,EACvE,OAAOgF,EAAQ,CAAC,GACdtD,EAAQsD,EAAQ,KAAK,OAAO,EAC5BA,GACEvH,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,CAC5B,IACIhC,EAAO+B,EAAO,KAAK,MAAM,EACzBrC,EAAUqC,EAAO,KAAK,QAAQ,GAAK,CAAC,EACpCwD,EAAc7F,EAAQ,IAAMA,EAAQ,YAExC,GAAIqC,EAAO,CAAC,EAEZ,CAAA,IAAIyD,EAAW,UAAU,CAEvB,IAAIC,EAAa,CACf,UAAW,4BACX,UAAW,4BACX,QAAS,0BACT,WAAY,4BACd,EAAG/F,EAAQ,IAAI,GAAK,mBAGhBgG,EAAS,UAAU,CACrB,IAAIC,EAAO,mBAGX,GAAGJ,EACD,OAAAxD,EAAO,YAAY,cAAe0D,CAAS,EACpC1D,EAAO,KAAK,EAIrB,GAAG/B,IAAS/B,EAAM,KAAK,CAAC,GAAK8D,EAAO,KAAK,SAAS,IAAM,SAAS,CAC/DA,EAAO,SAAS,SAAUzB,EAAK,CAAC,EAAG,GAAG,EAAE,SAExC,QADIsF,EAAO7D,EAAO,KAAK,IAAI4D,CAAI,EACvBrH,EAAI,EAAGA,EAAI,EAAGA,IACpBsH,EAAK,OAAO,EAEdA,EAAK,IAAI,UAAWA,EAAK,KAAK,SAAS,CAAC,EAAE,YAAYD,CAAI,MACrD,CAEL,GAAG3F,IAAS/B,EAAM,KAAK,CAAC,EACtB,GAAI,CACF,IAAI4H,EAAS9H,EAAE,IAAKuC,EAAK,CAAC,EAAI0B,CAAK,EAAE,CAAC,EACtC6D,EAAO,cAAc,SAAS,MAAM,EAAE,EACtCA,EAAO,cAAc,MAAM,EAC3B9D,EAAO,KAAK,IAAIzB,EAAK,CAAC,CAAC,EAAE,CAAC,EAAE,YAAYuF,CAAM,CAChD,OAAQ5C,EAAR,CAEFlB,CAAAA,EAAO,CAAC,EAAE,UAAY,GACtBA,EAAO,SAGT,OAAO9D,EAAM,IAAI+D,CAAK,GAAM,YAAc/D,EAAM,IAAI+D,CAAK,IACzD,OAAO/D,EAAM,IAAI+D,CAAK,EACtB,OAAOrC,GAAa,YAAcA,EAAAA,EAG/B1B,EAAM,OAAO,OAAO+D,CAAK,IAC1BhE,EAAI,IAAI,SAAUC,EAAM,OAAO,OAAO+D,CAAK,CAAC,EAC5C,OAAO/D,EAAM,OAAO,OAAO+D,CAAK,EAEpC,EAEI2C,EAAS5G,EAAE,IAAKuC,EAAK,MAAQ0B,CAAK,EAClClD,EAAM,IAAMA,EAAM,GAAK,IAAO,CAACY,EAAQ,UACzCiF,EAAOY,EAAc,OAAS,QAAQ,KAEtCZ,EAAO,IAAI,CAAC,QAAS,CAAC,CAAC,EACvB,WAAW,UAAU,CACnBA,EAAOY,EAAc,OAAS,QAAQ,EAAA,CACxC,EAAG,GAAG,GAIL7F,EAAQ,WACTqC,EAAO,SAAS,cAAe0D,CAAS,EAG1C3G,EAAM,IAAM,GAAKb,EAAM,WACvBA,EAAM,cAAc+D,CAAK,EAGtB,OAAOD,EAAO,KAAK,SAAS,GAAM,WACnC9D,EAAM,gBACNA,EAAM,YAAY,KAAK8D,EAAO,KAAK,SAAS,CAAC,GAG3CjD,EAAM,IAAMA,EAAM,GAAK,IAAO,CAACY,EAAQ,UACzCgG,EAAO,EAEP,WAAW,UAAU,CACnBA,GACF,EAAG,GAAG,CAEV,EAEG,CAACH,GAAe,OAAOtH,EAAM,UAAU+D,CAAK,GAAM,WACnD/D,EAAM,mBAAmBA,EAAM,UAAU+D,CAAK,EAAG,CAAA,EAC9C,KAAK,SAAS6B,EAAO,CACjBA,IAAW,KACZ,OAAO5F,EAAM,UAAU+D,CAAK,EAC5BwD,IAEJ,EAAG,SAAS1B,EAAO,CACjBA,IAAW,QAAa,OAAO,SAAW,OAAO,QAAQ,MAAM,qBAAuBA,CAAM,CAC9F,CAAC,GAEH,OAAO7F,EAAM,UAAU+D,CAAK,EAC5BwD,EAEJ,GAAA,EAGA1G,EAAM,SAAW,SAASkB,EAAML,EAAS,CACpC,OAAOK,GAAS,aACjBL,EAAWK,EACXA,EAAO,MAET,IAAI8F,EAAW/H,EAAE,IAAIuC,EAAK,CAAC,CAAC,EAC5BvC,EAAE,KAAK+H,EAAU,SAASC,EAAO,CAC/B,IAAI7C,EAAQnF,EAAE,IAAI,EACdiI,EAAKhG,EAAQkD,EAAM,KAAK,MAAM,IAAMlD,EAAQ,EAChDgG,GAAMlH,EAAM,MAAMoE,EAAM,KAAK,OAAO,EAAG6C,IAAWD,EAAS,OAAS,EAAInG,EAAW,IAAI,EACvFqG,EAAK,IACP,CAAC,EACEF,EAAS,SAAW,GAAG,OAAOnG,GAAa,YAAcA,GAC9D,EAGAb,EAAM,UAAY,SAASkB,EAAML,EAAS,CACxC,IAAIsG,EAAiB,CAAC,EAClBC,EAAcnI,EAAE,QAAQiC,CAAI,EAOhC,GANAjC,EAAE,OAAOiC,GAAS,SAAW,gBAAkBA,EAAO,cAAc,EAAE,KAAK,SAAS1B,EAAG6H,EAAG,CACxF,IAAIpE,EAAShE,EAAEoI,CAAE,EACbC,EAAcF,GAAelG,EAAK,QAAQ+B,EAAO,KAAK,MAAM,CAAC,IAAM,IAAOA,EAAO,IAAI,SAAS,IAAM,OACxG,GAAGqE,EAAY,MAAO,GACtBH,EAAe,KAAK,OAAOlE,EAAO,KAAK,OAAO,CAAC,CAAC,CAClD,CAAC,EACEkE,EAAe,OAAS,EAAE,CAC3B,IAAII,EAAgB,KAAK,IAAI,MAAM,KAAMJ,CAAc,EACvDnH,EAAM,MAAMuH,EAAe1G,CAAQ,EAEvC,EAQA,IAAI2G,EAAQxH,EAAM,OAAS,GACvBsB,EAAO,SAASJ,EAAK,CACvB,OAAQsG,EAAM,KAAQ,IAAMA,EAAM,KAAO,IAAMA,EAAM,KAAO,IAAItG,EAAQ,EAC1E,EAGAlB,EAAM,OAAS,SAASY,EAASK,EAAI,CACnC,IAAIrB,EAAQ,GAAI6H,EAAc,GAK9B,GAJA7G,EAAUA,GAAW,GAElB,OAAOA,GAAY,aAAYK,EAAML,GAErCA,EAAQ,KAAK,CACd,IAAI2C,EAAO3C,EAAQ,KACnBhB,EAAQ,iBAAkB2D,EAAK,CAAC,EAAG,aAAcA,EAAK,CAAC,EAAI,KAC3D,OAAO3C,EAAQ,KAEbA,EAAQ,cACV6G,EAAc,iBAAmB7G,EAAQ,YAAc,KAEzD,IAAI8G,EAAQ1G,EAAUJ,EAAQ,UAAY,EAAI,sCAAwChB,EAAQ6H,EAAc,eAAiB,UAAY,CACvI,MAAO,iBAAmB7G,EAAQ,UAAY,EAAI,WAAa,QAAU,8BAAgC6G,EAAc,GACzH,IAEIE,EAAU/G,EAAQ,QACtB,OAAOA,OAAAA,EAAQ,QAERZ,EAAM,KAAKf,EAAE,OAAO,CACzB,KAAM,EACN,IAAK,CAAC,eAAK,cAAI,EACf,QAAS+B,EACT,KAAM,qBAAuBM,EAAK,QAAQ,EAC1C,SAAUpC,EAAI,MAAM,EACpB,QAAS,SAAS+D,EAAO,CACvByE,EAASzE,EAAO,KAAK,oBAAoB,EACzCyE,EAAO,IAAI9G,EAAQ,OAAS,EAAE,EAAE,MAChC,EAAA,OAAO+G,GAAY,YAAcA,EAAQ1E,CAAM,CACjD,EACA,OAAQ,GACR,IAAK,SAASC,EAAM,CAClB,IAAIiC,EAAQuC,EAAO,IAAI,EACpBvC,EAAM,QAAUvE,EAAQ,WAAW,KACpCZ,EAAM,KAAK,4BAASY,EAAQ,WAAa,KAAM,qBAAO8G,EAAQ,CAAC,KAAM,CAAC,CAAC,EAEvEzG,GAAOA,EAAIkE,EAAOjC,EAAOwE,CAAM,CAEnC,CACF,EAAG9G,CAAO,CAAC,CACb,EAGAZ,EAAM,IAAM,SAASY,EAAQ,CAC3BA,EAAUA,GAAW,CAAC,EAEtB,IAAIgH,EAAMhH,EAAQ,KAAO,CACrBiH,EAAAA,EAAO,aACPF,EAAU/G,EAAQ,QAEtB,OAAA,OAAOA,EAAQ,QAERZ,EAAM,KAAKf,EAAE,OAAO,CACzB,KAAM,EACN,KAAM,kBAAoBqC,EAAK,KAAK,EACpC,OAAQ,GACR,MAAO,UAAU,CACf,IAAIuB,EAAM+E,EAAI,OAAQE,EAAK,EAAGC,EAAM,GACpC,GAAGlF,EAAM,EAEP,IADAkF,EAAM,gBAAiBF,EAAM,KAAMD,EAAI,CAAC,EAAE,MAAO,UAC3CE,EAAKjF,EAAKiF,IACdC,GAAO,SAAUH,EAAIE,CAAE,EAAE,MAAO,UAGpC,OAAOC,CACT,IACA,QAAS,mCAAoC,UAAU,CACrD,IAAIlF,EAAM+E,EAAI,OAAQE,EAAK,EAAGC,EAAM,GACpC,GAAGlF,EAAM,EAEP,IADAkF,EAAM,gCAAiCF,EAAM,MAAOD,EAAI,CAAC,EAAE,SAAW,cAAe,QAC/EE,EAAKjF,EAAKiF,IACdC,GAAO,kCAAmCH,EAAIE,CAAE,EAAE,SAAW,eAAgB,QAGjF,OAAOC,CACT,EAAE,EAAG,QACL,QAAS,SAAS9E,EAAO,CACvB,IAAI+E,EAAM/E,EAAO,KAAK,oBAAoB,EAAE,WACxCgF,EAAOhF,EAAO,KAAK,sBAAsB,EAAE,SAAS,EACxD+E,EAAI,GAAG,YAAa,SAAS7D,EAAE,CAC7BA,EAAE,gBAAkBA,EAAE,gBAAgB,EAAIA,EAAE,aAAe,GAC3D,IAAIC,EAAQnF,EAAE,IAAI,EAAGiE,EAAQkB,EAAM,MACnCA,EAAAA,EAAM,SAASyD,CAAI,EAAE,SAAA,EAAW,YAAYA,CAAI,EAChDI,EAAK,GAAG/E,CAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EACtC,OAAOtC,EAAQ,QAAW,YAAcA,EAAQ,OAAOsC,CAAK,CAC9D,CAAC,EACD,OAAOyE,GAAY,YAAcA,EAAQ1E,CAAM,CACjD,CACF,EAAGrC,CAAO,CAAC,CACb,EAGAZ,EAAM,OAAS,SAASY,EAASsH,EAAMC,EAAI,CACzC,IAAI9D,EAAO,CAAA,EAQX,GALAzD,EAAU3B,EAAE,OAAO,GAAM,CACvB,QAAS,GACT,OAAQ,EACV,EAAG2B,CAAO,EAEP,CAACA,EAAQ,OAAQ,OAGpB,IAAIwH,EAAW,EAAE,OAAOxH,EAAQ,QAAW,UAAYA,EAAQ,kBAAkB3B,GAC7EoJ,EAASD,EAAWxH,EAAQ,OAAS,CACrC0H,EAAAA,EAAOD,EAAO,MAAQ,GACtBE,EAAQF,EAAO,OAAS,EACxBV,EAAU/G,EAAQ,QAOtB,GALAyD,EAAK,UAAYkE,EAAM,GAAK,EAC5B3H,EAAQ,IAAMA,EAAQ,KAAO,MAC7B,OAAOA,EAAQ,QAGXwH,GAkCG,GAAIE,EAAK,SAAW,EACzB,OAAOtI,EAAM,IAAI,0BAAM,MAnCZ,CACX,IAAIwI,EAASvJ,EAAE2B,EAAQ,MAAM,EAAG6H,EAAW,UAAU,CACnDH,EAAO,CAAA,EACPE,EAAO,KAAK5H,EAAQ,GAAG,EAAE,KAAK,SAASsC,EAAM,CAC3C,IAAIkB,EAAQnF,EAAE,IAAI,EAClBmF,EAAM,KAAK,cAAelB,CAAK,EAC/BoF,EAAK,KAAK,CACR,IAAKlE,EAAM,KAAK,KAAK,EACrB,IAAKA,EAAM,KAAK,WAAW,EAC3B,IAAKA,EAAM,KAAK,SAAS,GAAKA,EAAM,KAAK,WAAW,GAAKA,EAAM,KAAK,KAAK,EACzE,MAAOA,EAAM,KAAK,KAAK,CACzB,CAAC,CACH,CAAC,CACH,EAoBA,GAlBAqE,EAAAA,EAEIH,EAAK,SAAW,IAEpBJ,GAAQM,EAAO,GAAG,QAAS5H,EAAQ,IAAK,UAAU,CAChD6H,EAAAA,EACA,IAAIrE,EAAQnF,EAAE,IAAI,EAAGiE,EAAQkB,EAAM,KAAK,aAAa,EACrDpE,EAAM,OAAOf,EAAE,OAAO2B,EAAS,CAC7B,OAAQ,CACN,MAAOsC,EACP,KAAMoF,EACN,IAAK1H,EAAQ,GACf,EACA,KAAMA,EAAQ,IAChB,CAAC,EAAG,EAAI,CACV,CAAC,EAGG,CAACsH,GAAM,OAMb7D,EAAK,QAAU,SAAS8D,EAAI,CAC1B9D,EAAK,WACFA,EAAK,SAAW,IACjBA,EAAK,SAAWiE,EAAK,QAEvBjE,EAAK,OAAO8D,CAAG,CACjB,EAGA9D,EAAK,QAAU,SAAS8D,EAAIO,EAAS,CACnCrE,EAAK,WACF,EAAAA,EAAK,SAAWiE,EAAK,SACtBjE,EAAK,SAAW,EACZqE,KAENrE,EAAK,OAAO8D,CAAG,CACjB,EAGA9D,EAAK,MAAQ,SAASsE,EAAM,CAC1B,GAAG,CAACtE,EAAK,IAAI,CACX,IAAIuE,EAAOD,EAAM,QACjBA,EAAM,iBACHC,IAAS,GACVvE,EAAK,QAAQ,EAAI,EACTuE,IAAS,GACjBvE,EAAK,QAAQ,EAAI,EACTuE,IAAS,IACjB5I,EAAM,MAAMqE,EAAK,KAAK,EAG5B,EAGAA,EAAK,OAAS,SAAS8D,EAAI,CACzB,GAAG,EAAAG,EAAK,QAAU,GAClB,OAAAD,EAAO,MAAQhE,EAAK,SAAW,EAC/BrE,EAAM,MAAMqE,EAAK,KAAK,EACfrE,EAAM,OAAOY,EAAS,GAAMuH,CAAG,CACxC,EAEA9D,EAAK,SAAW,SAAUwE,EAAG,CAC3B,OAAO,OAAOA,GAAM,UAAY,CAAC,MAAMA,CAAC,CAC1C,EAEAxE,EAAK,MAAQ,CAAA,EAEbA,EAAK,aAAe,SAASyE,EAAK,CAChC,IAAIC,EAAa,GACbC,EAASF,EAAK,OACdG,EAASH,EAAK,OACdI,EAAQJ,EAAK,MAEjB,OAAIzE,EAAK,SAAS2E,CAAM,GAAKA,IAAW,GACtCD,EAAW,KAAK,UAAYC,EAAS,MAAM,EAGzC3E,EAAK,SAAS4E,CAAM,GAAKA,IAAW,GACtCF,EAAW,KAAK,UAAYE,EAAS,GAAG,EAGtC5E,EAAK,SAAS6E,CAAK,GACrBH,EAAW,KAAK,SAAWG,EAAQ,GAAG,EAGjCH,EAAW,OAASA,EAAW,KAAK,GAAG,EAAI,MACpD,EAGA1E,EAAK,MAAQ,SAASpB,EAAQC,EAAOrB,EAAK,CAwExC,GAtEAwC,EAAK,KAAK,KAAK,0BAA0B,EAAE,GAAG,QAAS,SAASsE,EAAM,CACpEA,EAAM,eACNtE,EAAAA,EAAK,QAAQ,EAAI,CACnB,CAAC,EAGDA,EAAK,KAAK,KAAK,0BAA0B,EAAE,GAAG,QAAS,SAASsE,EAAM,CACpEA,EAAM,iBACNtE,EAAK,QAAQ,EAAI,CACnB,CAAC,EAEDpF,EAAE,QAAQ,EAAE,GAAG,QAASoF,EAAK,KAAK,EAGlCpB,EAAO,IAAI,OAAO,EAAE,GAAG,QAAQ,mBAAoB,UAAY,CAC7D,IAAImB,EAAQnF,EAAE,IAAI,EACd0J,EAAQvE,EAAM,KAAK,eAAe,EACtC,OAAQuE,GACN,IAAK,SACHtE,EAAK,MAAM,SAAWA,EAAK,MAAM,QAAU,GAAK,OAAOD,EAAM,KAAK,aAAa,CAAC,GAAK,IACrFC,EAAK,QAAQ,IAAI,CACf,UAAWA,EAAK,aAAaA,EAAK,KAAK,CACzC,CAAC,EACD,MACF,IAAK,SACHA,EAAK,MAAM,OAASA,EAAK,MAAM,SAAW,GAAK,EAAI,GACnDA,EAAK,QAAQ,IAAI,CACf,UAAWA,EAAK,aAAaA,EAAK,KAAK,CACzC,CAAC,EACD,MACF,IAAK,OACH,IAAI8E,EAAQ,OAAO/E,EAAM,KAAK,aAAa,CAAC,EAC5CC,EAAK,MAAM,OAASA,EAAK,MAAM,OAAS,GAAK8E,EAEzCA,EAAQ,GAAK9E,EAAK,MAAM,MAAQ,EAAI8E,IACtC9E,EAAK,MAAM,MAAQ,EAAI8E,GAEzB9E,EAAK,QAAQ,IAAI,CACf,UAAWA,EAAK,aAAaA,EAAK,KAAK,CACzC,CAAC,EACD,MACF,IAAK,QACHA,EAAK,MAAM,OAAS,EACpBA,EAAK,MAAM,MAAQ,EACnBA,EAAK,MAAM,OAAS,EACpBA,EAAK,QAAQ,IAAI,CACf,UAAW,MACb,CAAC,EACD,MACF,IAAK,QACHrE,EAAM,MAAMkD,CAAK,EACjB,KACJ,CACArB,EAAK,OAAO,EACZA,EAAK,KAAKqB,CAAK,CACjB,CAAC,EAGDmB,EAAK,KAAK,GAAG,4BAA6B,SAASF,EAAG,CACpD,IAAIiF,EAAQjF,EAAE,cAAc,YAAc,CAACA,EAAE,cAAc,OACvDkF,EAAWhF,EAAK,KAAK,KAAK,wBAAwB,EAClD+E,EAAQ,EACVC,EAAS,GAAG,CAAC,EAAE,QAAQ,OAAO,EAE9BA,EAAS,GAAG,CAAC,EAAE,QAAQ,OAAO,EAEhClF,EAAE,gBACJ,CAAC,EAGE,OAAO,OAAS,OAAO,IAAI,CAC5B,IAAImF,EAAM,OAAO,MAAM,KAAO,OAAO,IACjCC,EAAmB,SAASpF,EAAGqF,EAAM,CACvC,IAAIC,EAAW,KAAK,IAAA,EAAQD,EAAM,UAC9BE,EAAQF,EAAM,UAAYC,EAC1BE,EAAYzK,EAAI,MAAM,EAAI,EAC1B0K,EAAc,KAAK,IAAIF,CAAK,EAAI,KAAQ,KAAK,IAAIF,EAAM,SAAS,EAAIG,EACpEC,IACDJ,EAAM,YAAc,OACrBnF,EAAK,QAAQ,EAAI,EACVmF,EAAM,YAAc,SAC3BnF,EAAK,QAAQ,EAAI,EAErB,EAEApF,EAAE,KAAK,CAAC4C,EAAK,OAAQwC,EAAK,IAAI,EAAG,SAAS7E,EAAGmE,EAAK,CAChD2F,EAAI,WAAW3F,EAAM,CACnB,WAAY4F,CACd,CAAC,CACH,CAAC,EAEL,EAGA,SAASM,EAAUlE,EAAK9E,EAAUiJ,EAAO,CACvC,IAAIC,EAAM,IAAI,MAEd,GADAA,EAAI,IAAMpE,EACPoE,EAAI,SACL,OAAOlJ,EAASkJ,CAAG,EAErBA,EAAI,OAAS,UAAU,CACrBA,EAAI,OAAS,KACblJ,EAASkJ,CAAG,CACd,EACAA,EAAI,QAAU,SAAS5F,EAAE,CACvB4F,EAAI,QAAU,KACdD,EAAM3F,CAAC,CACT,CACF,CAEAE,EAAK,MAAQrE,EAAM,KAAK,EAAG,CACzB,MAAO,UAAWY,EAAU,GAAQ,CAAC,GAAK,OAAW,OAAO,EAC5D,UAAW,EACb,CAAC,EAEDiJ,EAAUvB,EAAKC,CAAK,EAAE,IAAK,SAASwB,EAAI,CACtC/J,EAAM,MAAMqE,EAAK,KAAK,EAEtB,IAAI2F,EAAM1B,EAAKC,CAAK,EAAE,KAAO,GAG1BJ,IAAKvH,EAAQ,KAAO,IAGvByD,EAAK,MAAQrE,EAAM,KAAKf,EAAE,OAAO,CAC/B,KAAM,EACN,GAAI,qBACJ,KAAM,UAAU,CACd,IAAIgL,EAAU,CAACF,EAAI,MAAOA,EAAI,MAAM,EAChCG,EAAU,CAACjL,EAAE,MAAM,EAAE,MAAU,EAAA,IAAKA,EAAE,MAAM,EAAE,OAAA,EAAW,GAAG,EAGhE,GAAG,CAAC2B,EAAQ,OAASqJ,EAAQ,CAAC,EAAEC,EAAQ,CAAC,GAAGD,EAAQ,CAAC,EAAEC,EAAQ,CAAC,GAAG,CACjE,IAAIC,EAAK,CAACF,EAAQ,CAAC,EAAEC,EAAQ,CAAC,EAAED,EAAQ,CAAC,EAAEC,EAAQ,CAAC,CAAC,EAClDC,EAAG,CAAC,EAAIA,EAAG,CAAC,GACbF,EAAQ,CAAC,EAAIA,EAAQ,CAAC,EAAEE,EAAG,CAAC,EAC5BF,EAAQ,CAAC,EAAIA,EAAQ,CAAC,EAAEE,EAAG,CAAC,GACpBA,EAAG,CAAC,EAAIA,EAAG,CAAC,IACpBF,EAAQ,CAAC,EAAIA,EAAQ,CAAC,EAAEE,EAAG,CAAC,EAC5BF,EAAQ,CAAC,EAAIA,EAAQ,CAAC,EAAEE,EAAG,CAAC,GAIhC,MAAO,CAACF,EAAQ,CAAC,EAAE,KAAMA,EAAQ,CAAC,EAAE,IAAI,CAC1C,EAAE,EACF,MAAO,GACP,MAAO,CAAC,GAAK,OAAW,OAAO,EAC/B,WAAY,GACZ,SAAU,GACV,KAAM,+BACN,SAAU,EACV,UAAW,GACX,QAAS,GACT,KAAM,EACN,UAAW,GACX,KAAM,qBAAuB3I,EAAK,QAAQ,EAC1C,QAAS,kDACSgH,EAAKC,CAAK,EAAE,IAAK,UAAWyB,EAAK,iBAAkB1B,EAAKC,CAAK,EAAE,KAAO,IAAK,KACzF,UAAU,CACV,IAAI5F,EAAM,CAAC,0CAA0C,EAGrD,OAAI2F,EAAK,OAAS,GAChB3F,EAAI,KAAK,CAAC,wCACR,2EACA,4EACF,QAAQ,EAAE,KAAK,EAAE,CAAC,EAIhB/B,EAAQ,SACV+B,EAAI,KAAK,CACP,qEACE,0HACA,wGACA,4HACA,gIACA,0GACA,sGACF,QACF,EAAE,KAAK,EAAE,CAAC,EAIR/B,EAAQ,QACV+B,EAAI,KAAK,CAAC,qEACR,OAAQqH,EAAK,QACb,OAAQ3F,EAAK,SAAU,MAAOiE,EAAK,OAAQ,QAC3C,YAAaA,EAAKC,CAAK,EAAE,IAAK,iDAChC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAGpB5F,EAAI,KAAK,QAAQ,EACVA,EAAI,KAAK,EAAE,CACpB,EAAA,EACD,SACD,QAAS,SAASM,EAAQC,EAAOrB,EAAK,CACpCwC,EAAK,KAAOpB,EAAO,KAAK,0BAA0B,EAClDoB,EAAK,OAASpB,EAAO,KAAK,4BAA4B,EACtDoB,EAAK,QAAUA,EAAK,KAAK,SAAS,KAAK,EACvCA,EAAK,MAAMpB,EAAQC,EAAOrB,CAAI,EAC9BjB,EAAQ,KAAOA,EAAQ,IAAI0H,EAAKC,CAAK,EAAGtF,CAAM,EAC9C,OAAO0E,GAAY,YAAcA,EAAQ1E,CAAM,CACjD,EAAG,IAAK,UAAU,CAChBoB,EAAK,IAAM,GACXpF,EAAE,QAAQ,EAAE,IAAI,QAASoF,EAAK,KAAK,CACrC,CACF,EAAGzD,CAAO,CAAC,CACb,EAAG,UAAU,CACXZ,EAAM,MAAMqE,EAAK,KAAK,EACtBrE,EAAM,IAAI,yHAA2B,CACnC,KAAM,IACN,IAAK,CAAC,qBAAO,oBAAK,EAClB,IAAK,UAAU,CACbsI,EAAK,OAAS,GAAKjE,EAAK,QAAQ,GAAK,EAAI,CAC3C,CACF,CAAC,CACH,CAAC,CACH,EAGAlF,EAAM,IAAM,SAASiL,EAAG,CACtBnL,EAAImL,EACJlL,EAAMD,EAAE,MAAM,EAKd,IAAI0B,EAAQ,UAAU,UAAU,cAC5B0J,EAAW,+BAA+B,KAAK1J,CAAK,EACpD2J,EAAOrL,EAAE,MAAM,EAChBoL,GACDpL,EAAE,KAAK,CAAC,OAAQ,SAAU,MAAO,OAAO,EAAG,SAASsL,EAAYC,EAAS,CACvE,IAAIC,EAAW,QAAUF,EACzBrL,EAAIsL,CAAQ,EAAI,UAAU,CACxB,OAAOC,KAAY,OACf,OAAOA,CAAQ,EACfH,EAAKE,CAAQ,GACnB,CACF,CAAC,EAEHhJ,EAAK,KAAOvC,EAAE,MAAM,EACpBe,EAAM,KAAO,SAAS0K,EAAQ,CAC5B,IAAIC,EAAI,IAAIhJ,EAAM+I,CAAO,EACzB,OAAOC,EAAE,KACX,CACF,EAGA,OAAO,OAAS,MAAM,QACpB3K,EAAM,MAAM,EACZ,MAAM,OAAO,CAAC,SAAS,KAAK,EAAG,SAAS4K,EAAQ,CAC9C5K,EAAM,KAAO,MAAM,MAAM,IACzBb,EAAM,IAAI,MAAM,CAAC,EAGjB,OAAO,MAAQa,EACf4K,EAAQ,QAAS5K,CAAK,CACxB,CAAC,GAEA,OAAO,QAAW,YAAc,OAAO,IAAO,OAAO,CAAC,QAAQ,EAAG,UAAU,CAC1E,OAAAb,EAAM,IAAI0L,CAAM,EACT7K,CACT,CAAC,EAAI,UAAU,CACbA,EAAM,QACNb,EAAM,IAAI0L,CAAM,CAClB,EAAE"}